{"version":3,"file":"js/app.79967b9e.js","mappings":"0GAEA,MAAMA,GAAgBC,EAAAA,EAAAA,IAAI,IAEnB,SAASC,IACd,MAAMC,EAAcC,IAClBJ,EAAcK,MAAMC,KAAKF,EAAc,EAGnCG,EAAoBA,CAACC,EAASC,EAAe,GAAIC,GAAgB,KACrEP,EAAW,CAAEQ,KAAM,UAAWC,QAASJ,EAASK,MAAOJ,EAAcK,YAAaJ,GAAgB,EAG9FK,EAAiBA,CAACP,EAASC,EAAe,GAAIC,GAAgB,KAClEP,EAAW,CAAEQ,KAAM,OAAQC,QAASJ,EAASK,MAAOJ,EAAcK,YAAaJ,GAAgB,EAG3FM,EAAoBA,CAACR,EAASC,EAAe,GAAIC,GAAgB,KACrEP,EAAW,CAAEQ,KAAM,UAAWC,QAASJ,EAASK,MAAOJ,EAAcK,YAAaJ,GAAgB,EAG9FO,EAAkBA,CAACT,EAASC,EAAe,GAAIC,GAAgB,KACnEP,EAAW,CAAEQ,KAAM,QAASC,QAASJ,EAASK,MAAOJ,EAAcK,YAAaJ,GAAgB,EAG5FQ,EAAgBC,IACpBnB,EAAcK,MAAMe,OAAOD,EAAO,EAAE,EAGhCE,EAAmBA,KACvB,MAAMC,EAAY,GAClB,IAAK,MAAMV,KAAWZ,EAAcK,MAC9BO,EAAQE,cACVF,EAAQE,aAAc,EACtBQ,EAAUhB,KAAKM,IAGnBZ,EAAcK,MAAQiB,CAAS,EAGjC,MAAO,CAAEtB,gBAAeO,oBAAmBQ,iBAAgBC,oBAAmBC,kBAAiBC,eAAcG,mBAC/G,C,wFCrCO,SAASE,IACd,MAAMC,GAAmBvB,EAAAA,EAAAA,IAAI,MAC7B,IAAIwB,GAAa,EACjB,MAAM,gBAAER,IAAoBf,EAAAA,EAAAA,KAEtBwB,EAAgBC,UACpB,GAAKC,EASL,OAJ+B,OAA3BJ,EAAiBnB,OAAmBoB,IACtCA,GAAa,QACPI,EAAgBD,IAEjBJ,EAAiBnB,MARtBmB,EAAiBnB,OAAQ,CAQE,EAGzBwB,EAAkBF,UACtB,IAEE,IAAIG,QAAmBF,EAAOG,gBAAgB,CAAEC,KAAMC,EAAAA,KAGnC,YAAfH,IACFA,QAAmBF,EAAOM,kBAAkB,CAAEF,KAAMC,EAAAA,KAChDE,UAAUC,SAAWD,UAAUC,QAAQC,eACnCF,UAAUC,QAAQC,WAG5Bb,EAAiBnB,MAAwB,YAAfyB,CAC5B,CAAE,MAAOQ,GACPrB,EAAgB,yCAChBsB,QAAQC,MAAMF,GACdd,EAAiBnB,OAAQ,CAC3B,CACAoB,GAAa,CAAK,EAGpB,MAAO,CAAED,mBAAkBE,gBAC7B,C,kHCtCA,MAAMe,GAAgBxC,EAAAA,EAAAA,IAAI,MACpByC,GAASzC,EAAAA,EAAAA,IAAI,CAAC,GAEb,SAAS0C,EAAkBC,GAChC,IAAIC,GAAY,EACXD,IAAOA,GAAQE,EAAAA,EAAAA,OACpB,MAAM,gBAAE7B,IAAoBf,EAAAA,EAAAA,KAEtB6C,EAAmBpB,UACnBc,EAAcpC,QAIlBoC,EAAcpC,YAAc2C,EAAAA,EAAAA,KAAqBD,mBAC7CN,EAAcpC,aAEV4C,EAAYR,EAAcpC,QANzBoC,EAAcpC,OAWnB6C,EAAcvB,UAClB,MAAMwB,EAAO,GACb,IAAKV,EAAcpC,MAAO,OAAO8C,EAEjC,IACE,UAAW,MAAO,CAAEC,KAAUX,EAAcpC,MAAMgD,UAC7B,cAAfD,EAAME,MACRH,EAAK7C,KAAK8C,EAGhB,CAAE,MAAOd,GACPrB,EAAgB,wCAChBsB,QAAQC,MAAMF,EAChB,CACA,OAAOa,CAAI,EAGPI,EAAsB5B,UAC1B,MAAMwB,EAAO,GACb,IAAKK,EAAc,OAAOL,EAE1B,IACE,UAAW,MAAO,CAAEC,KAAUI,EAAaH,UACtB,cAAfD,EAAME,MACRH,EAAK7C,KAAK8C,EAGhB,CAAE,MAAOd,GACPrB,EAAgB,iDAAmDuC,EAAaC,MAChFlB,QAAQC,MAAMF,EAChB,CACA,OAAOa,CAAI,EAGPO,EAAuB/B,UAC3B,MAAMwB,EAAO,GACb,IAAKQ,EAAY,OAAOR,EAExB,IACE,UAAW,MAAOM,EAAML,KAAUO,EAAWN,UAC3C,GAAmB,SAAfD,EAAME,KAAiB,CAEzB,MAAMM,EAAYH,EAAKI,MAAMJ,EAAKK,YAAY,MAC1CC,EAAAA,GAA0BC,SAASJ,GACrCT,EAAK7C,KAAK8C,GAEVb,QAAQ0B,IAAI,yCAA2CN,EAAWF,KAAO,IAAMA,EAEnF,CAEJ,CAAE,MAAOnB,GACPrB,EAAgB,kDAAoD0C,EAAWF,MAC/ElB,QAAQC,MAAMF,EAChB,CACA,OAAOa,CAAI,EAGPF,EAActB,UAClBkB,GAAY,EACZJ,EAAcpC,MAAQ6D,EACtBxB,EAAOrC,MAAQ,CAAC,EAChB,MAAM8D,QAAgBjB,IACtB,IAAK,MAAMM,KAAgBW,EAAS,CAClC,MAAMC,EAAc,CAAC,EACfC,QAAcd,EAAoBC,GACxC,IAAK,MAAMG,KAAcU,EACvBD,EAAYT,EAAWF,YAAcC,EAAqBC,GAE5DjB,EAAOrC,MAAMmD,EAAaC,MAAQW,CACpC,OACMxB,EAAM0B,SAAS,gBAAiBJ,EAAWT,YAC3CT,EAAAA,EAAAA,KAAqBuB,iBAAiBL,GAC5CrB,GAAY,CAAK,EAGb2B,EAAiBA,IACdC,OAAOC,KAAKhC,EAAOrC,OAGtBsE,EAAsBC,GACrBlC,EAAOrC,MAAMuE,GACXH,OAAOC,KAAKhC,EAAOrC,MAAMuE,IADE,GAI9BC,EAAsBA,CAACD,EAAQE,IAC9BpC,EAAOrC,MAAMuE,IACblC,EAAOrC,MAAMuE,GAAQE,GACnBpC,EAAOrC,MAAMuE,GAAQE,GAFM,GAK9BC,EAAqBA,CAACH,EAAQE,EAAM3D,KACxC,MAAM6D,EAAWH,EAAoBD,EAAQE,GAC7C,OAAKE,EAAS7D,GACP6D,EAAS7D,GADa,IACP,EAGxB,MAAO,CACLsB,gBACAM,mBACAL,SACAO,cACAuB,iBACAG,qBACAE,sBACAE,qBACAlC,YAEJ,C,iGClIO,SAASG,IACd,MAAMiC,GAAkBhF,EAAAA,EAAAA,IAAI,MAEtBiF,EAAqBA,KACpBD,EAAgB5E,QACnB4E,EAAgB5E,MAAQ8E,IAAAA,eAA2B,CACjD1B,KAAM2B,EAAAA,GACNC,UAAW,sBAGRJ,EAAgB5E,OAGnB0C,EAAmBpB,UACvB,MAAM2D,EAAWJ,IACjB,aAAaI,EAASC,QAAQ,gBAAgB,EAG1ChB,EAAmB5C,UACvB,MAAM2D,EAAWJ,IACjB,aAAaI,EAASE,QAAQ,gBAAiBnF,EAAM,EAGvD,MAAO,CAAE6E,qBAAoBnC,mBAAkBwB,mBACjD,C,wGC3BO,MAAMtC,EAA4B,OAG5B8B,EAA4B,CAAC,QAG7BqB,EAAkB,mB,qFCFtBK,MAAM,Y,GAGNA,MAAM,WAAW,aAAW,4B,GAG5BA,MAAM,WAAW,aAAW,wB,kEAPnCC,EAAAA,EAAAA,IAUM,aATJC,EAAAA,EAAAA,IAEM,MAFNC,EAEM,EADJC,EAAAA,EAAAA,IAAkFC,EAAA,CAArEC,GAAG,QAAQ,aAAW,8B,CANzCC,SAAAC,EAAAA,EAAAA,KAMsE,IAAIC,EAAA,KAAAA,EAAA,KAN1EC,EAAAA,EAAAA,IAMsE,YANtEC,EAAA,OAQIT,EAAAA,EAAAA,IAEM,MAFNU,EAEM,EADJR,EAAAA,EAAAA,IAAyCC,EAAA,CAA5BC,GAAG,KAAG,CATzBC,SAAAC,EAAAA,EAAAA,KAS0B,IAAOC,EAAA,KAAAA,EAAA,KATjCC,EAAAA,EAAAA,IAS0B,eAT1BC,EAAA,OAWIT,EAAAA,EAAAA,IAEM,MAFNW,EAEM,EADJT,EAAAA,EAAAA,IAAkDC,EAAA,CAArCC,GAAG,aAAW,CAZjCC,SAAAC,EAAAA,EAAAA,KAYkC,IAAQC,EAAA,KAAAA,EAAA,KAZ1CC,EAAAA,EAAAA,IAYkC,gBAZlCC,EAAA,O,eCCA,MAAMG,EAAS,CAAC,EAGVC,GAA2B,OAAgBD,EAAQ,CAAC,CAAC,SAASE,KAEpE,Q,+ECDA,MAAM,cAAEzG,EAAa,aAAEkB,IAAiBhB,EAAAA,EAAAA,KAClCwG,GAAWC,EAAAA,EAAAA,KAAS,IAAM3G,EAAcK,QAExCuG,EAAqBjG,IACzB,OAAQA,GACN,IAAK,QAAS,MAAO,eACrB,QACE,MAAO,SAAWA,EACtB,E,iWCVF,MAAM,EAAc,EAEpB,Q,WCAEkG,EAAAA,EAAAA,GAAS,oBAA4C,CACnDC,KAAAA,GACEvE,QAAQ0B,IACN,qGAGJ,EACA8C,UAAAA,GACExE,QAAQ0B,IAAI,sCACd,EACA+C,MAAAA,GACEzE,QAAQ0B,IAAI,2CACd,EACAgD,WAAAA,GACE1E,QAAQ0B,IAAI,8BACd,EACAiD,OAAAA,GACE3E,QAAQ0B,IAAI,4CACd,EACAkD,OAAAA,GACE5E,QAAQ0B,IAAI,gEACd,EACAzB,KAAAA,CAAOA,GACLD,QAAQC,MAAM,4CAA6CA,EAC7D,I,iECxBJ,MAAMI,GAAQE,EAAAA,EAAAA,OACR,mBAAEiC,IAAuBpC,EAAAA,EAAAA,KAGzByE,GAAgBT,EAAAA,EAAAA,KAAS,IAAM/D,EAAMyE,QAAQzC,SAC7C0C,GAAcX,EAAAA,EAAAA,KAAS,IAAM/D,EAAMyE,QAAQvC,OAC3CyC,GAAsBZ,EAAAA,EAAAA,KAAS,IAAM/D,EAAMyE,QAAQG,eACnDC,GAAiBd,EAAAA,EAAAA,KAAS,IAAM5B,EAAmBqC,EAAc/G,MAAOiH,EAAYjH,MAAOkH,EAAoBlH,S,0GCTrH,MAAM,EAAc,EAEpB,Q,wBCHA,MAAMqH,GAAezH,EAAAA,EAAAA,IAAI,MAQlB,SAAS0H,IACd,MAAMC,EAAQjG,UACZ,IAAK+F,EAAarH,MAAO,CACvBqH,EAAarH,MAAQ,IAAIwH,aAEzBtF,QAAQ0B,IAAI,WAAYyD,EAAarH,MAAMyH,OACV,cAA7BJ,EAAarH,MAAMyH,aACfJ,EAAarH,MAAM0H,SAG3B,IAEE,MAAMC,EAAc,2PAQdC,EAAO,IAAIC,KAAK,CAACF,GAAc,CAAErH,KAAM,2BACvCwH,EAAaC,IAAIC,gBAAgBJ,SAEjCP,EAAarH,MAAMiI,aAAaC,UAAUJ,GAEhD,MAAMK,EAAO,IAAIC,iBAAiBf,EAAarH,MAAO,oBACtDmI,EAAKE,QAAQhB,EAAarH,MAAMsI,YAClC,CAAE,MAAOrG,GACPC,QAAQC,MAAM,yBAA0BF,EAC1C,CACF,GAGIsG,EAAOA,KACPlB,EAAarH,QACfqH,EAAarH,MAAMwI,QACnBnB,EAAarH,MAAQ,KACvB,EAGF,MAAO,CAAEuH,QAAOgB,OAClB,C,gVChDA,MAAME,EAAQC,EAIRC,EAAOC,EAGPC,GAAWvC,EAAAA,EAAAA,KAAS,KACxB,IAAIuC,EAAW,cAIf,OAHIJ,EAAMK,UACRD,GAAY,wBAEPA,CAAQ,IAIXE,EAAcA,KAClBJ,EAAK,aAAa,E,oiCCjBpB,MAAM,EAAc,EAEpB,Q,oRCDA,MAAMA,EAAOC,EAGPI,EAAgBA,KACpBL,EAAK,eAAe,E,6lXCLtB,MAAM,EAAc,EAEpB,QCLO,SAASM,IACd,MAAMC,EAAclJ,GACbA,GACLA,EAAQA,EAAMmJ,WACPnJ,EAAMoJ,OAAO,GAAGC,cAAgBrJ,EAAMwD,MAAM,IAFhC,GAKf8F,EAAQC,IACZ,IAAIC,EAAY,EACZC,EAAc,EACdC,EAAa,EACbC,EAAcC,KAAKC,MAAMN,GACzBI,GAAe,KACjBD,EAAaC,EAAc,GAC3BF,EAAcG,KAAKC,MAAMH,GACzBC,EAAcC,KAAKE,MAAmC,IAA5BJ,EAAaD,KAErCA,GAAe,KACjBC,EAAaD,EAAc,GAC3BD,EAAYI,KAAKC,MAAMH,GACvBD,EAAcG,KAAKE,MAAiC,IAA1BJ,EAAaF,KAErCG,EAAc,KAAIA,EAAc,IAAMA,GACtCF,EAAc,KAAIA,EAAc,IAAMA,GAE1C,IAAIM,EAAcN,EAAc,IAAME,EAItC,OAHIH,EAAY,IACdO,EAAcP,EAAY,IAAMO,GAE3BA,CAAW,EAGpB,MAAO,CAAEb,aAAYI,OACvB,C,yOC9BA,MAAM,KAAEA,GAASL,IAOXe,EAAkBT,GACfD,EAAKC,G,0KCRd,MAAM,EAAc,EAEpB,Q,oJCFA,MAAMd,EAAQC,EAGRC,EAAOC,EAGPqB,GAAU3D,EAAAA,EAAAA,KAAS,KAChB,CACL,mCAAoCmC,EAAMyB,gBAAkB,QAK1DC,EAAclI,IAClB0G,EAAK,iBAAkB1G,EAAEmI,WAAWpK,MAAM,E,gOCd5C,MAAM,GAAc,GAEpB,U,6JCMA,MAAMuC,GAAQE,EAAAA,EAAAA,OACR,mBAAEiC,IAAuBpC,EAAAA,EAAAA,MACzB,kBAAE3B,EAAiB,gBAAEC,IAAoBf,EAAAA,EAAAA,KAGzCwK,GAAczK,EAAAA,EAAAA,IAAI,MAClB0K,GAAa1K,EAAAA,EAAAA,IAAI,MACjB2K,GAAc3K,EAAAA,EAAAA,IAAI,GAClB4K,GAAkB5K,EAAAA,EAAAA,IAAI,GACtBkJ,GAAUlJ,EAAAA,EAAAA,KAAI,GACd6K,GAAW7K,EAAAA,EAAAA,IAAI,GACf8K,GAAgB9K,EAAAA,EAAAA,IAAI,GAGpBmH,GAAgBT,EAAAA,EAAAA,KAAS,IAAM/D,EAAMyE,QAAQzC,SAC7C0C,GAAcX,EAAAA,EAAAA,KAAS,IAAM/D,EAAMyE,QAAQvC,OAC3CyC,GAAsBZ,EAAAA,EAAAA,KAAS,IAAM/D,EAAMyE,QAAQG,eACnDC,GAAiBd,EAAAA,EAAAA,KAAS,IAAM5B,EAAmBqC,EAAc/G,MAAOiH,EAAYjH,MAAOkH,EAAoBlH,SAG/G2K,EAAYrJ,UAChBoJ,EAAc1K,MAAQ,QAChB4K,UACArI,EAAM0B,SAAS,qBAAsB,GAC3C4G,EAAYzD,EAAepH,MAAM,EAG7B8K,EAAcxJ,UAClBoJ,EAAc1K,MAAQ,EACtB,MAAM+K,EAAY7D,EAAoBlH,MAAQ,EACxC8K,EAAcpG,EAAmBqC,EAAc/G,MAAOiH,EAAYjH,MAAO+K,GAC3ED,SACIF,UACArI,EAAM0B,SAAS,qBAAsB8G,SACrCF,EAAYC,IAElBnK,EAAkB,2BACpB,EAGIkK,EAAcvJ,MAAO0J,EAAeC,GAAW,KACnD,GAAKD,EAIL,IACE,MAAME,QAAkBF,EAAcG,UAElCb,EAAWtK,OACb+H,IAAIqD,gBAAgBd,EAAWtK,OAEjCsK,EAAWtK,MAAQ+H,IAAIC,gBAAgBkD,SAEjCb,EAAYrK,MAAMqL,OACpBJ,UACI3D,IAAeC,cACf8C,EAAYrK,MAAMsL,OACxBxC,EAAQ9I,OAAQ,EAEpB,CAAE,MAAOiC,GACPrB,EAAgB,2BAChBsB,QAAQC,MAAMF,EAChB,MApBErB,EAAgB,mBAoBlB,EAGIgK,EAAYtJ,gBACV+I,EAAYrK,MAAMuL,QACxBhB,EAAYvK,MAAQ,EACpBwK,EAAgBxK,MAAQ,QAClBsH,IAAeiB,OACrBO,EAAQ9I,OAAQ,CAAK,EAGjBwL,EAAyBvJ,IAEzBoI,EAAYrK,QACduK,EAAYvK,MAAQ4J,KAAKC,MAAMQ,EAAYrK,MAAMuK,aACjDC,EAAgBxK,MAAQ4J,KAAKE,MAAOO,EAAYrK,MAAMuK,YAAcF,EAAYrK,MAAMyK,SAAY,KACpG,EAGIgB,EAAmBnK,gBACjBgG,IAAeiB,OACrBO,EAAQ9I,OAAQ,CAAK,EAGjB0L,EAAkBpK,gBAChBgG,IAAeC,QACrBuB,EAAQ9I,OAAQ,CAAI,EAGhB2L,EAAmBrK,gBACjBgG,IAAeiB,OACrBO,EAAQ9I,OAAQ,CAAK,EAGjB4L,EAAmBtK,gBACjBgG,IAAeiB,OACrBO,EAAQ9I,OAAQ,EAChBY,EAAgB,qCAChBsB,QAAQC,MAAMF,EAAE,EAGZ4J,EAAqB5J,IACrBoI,EAAYrK,QACdyK,EAASzK,MAAQqK,EAAYrK,MAAMyK,SACnCJ,EAAYrK,MAAMuK,YAAcG,EAAc1K,MAChD,EAGI8L,EAAiBC,IACjB1B,EAAYrK,QACdqK,EAAYrK,MAAMuK,aAAewB,EAEnC,EAGIC,EAAkB9B,IAClBG,EAAYrK,QACdqK,EAAYrK,MAAMuK,YAAe0B,SAAS/B,GAAmB,IAAOG,EAAYrK,MAAMyK,SACxF,EAGIyB,EAAa5K,UACb+I,EAAYrK,QACVqK,EAAYrK,MAAMmM,cACd7E,IAAeC,QACrB8C,EAAYrK,MAAMsL,eAEZhE,IAAeiB,OACrB8B,EAAYrK,MAAMuL,SAEpBzC,EAAQ9I,OAAS8I,EAAQ9I,MAC3B,E,OAGFoM,EAAAA,EAAAA,IAAM7B,GAAa,CAAC8B,EAAUC,KACxBD,IAAaC,GACf/J,EAAM0B,SAAS,kBAAmBoI,EACpC,KAGFE,EAAAA,EAAAA,KAAUjL,UACR,GAAI+I,EAAYrK,OAOd,GANAqK,EAAYrK,MAAMwM,iBAAiB,aAAchB,GACjDnB,EAAYrK,MAAMwM,iBAAiB,iBAAkBX,GACrDxB,EAAYrK,MAAMwM,iBAAiB,QAASf,GAC5CpB,EAAYrK,MAAMwM,iBAAiB,OAAQd,GAC3CrB,EAAYrK,MAAMwM,iBAAiB,QAASb,GAC5CtB,EAAYrK,MAAMwM,iBAAiB,QAASZ,GACxCxE,EAAepH,MAAO,OAClB6K,EAAYzD,EAAepH,OAAO,GACxC,MAAMyM,EAAkBlK,EAAMyE,QAAQ0F,UAClCD,IACF/B,EAAc1K,MAAQyM,EAE1B,OAEA7L,EAAgB,iCAClB,I,ywBCpKF,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,YAAY,qBAEvE,U,+BCHA,MAAM2B,GAAQE,EAAAA,EAAAA,OACR,oBAAE+B,IAAwBlC,EAAAA,EAAAA,KAG1ByE,GAAgBT,EAAAA,EAAAA,KAAS,IAAM/D,EAAMyE,QAAQzC,SAC7C0C,GAAcX,EAAAA,EAAAA,KAAS,IAAM/D,EAAMyE,QAAQvC,OAC3CE,GAAW2B,EAAAA,EAAAA,KAAS,IAAM9B,EAAoBuC,EAAc/G,MAAOiH,EAAYjH,SAC/E2M,GAAerG,EAAAA,EAAAA,KAAS,IAAM3B,EAAS3E,MAAM4M,S,sJCTnD,MAAM,GAAc,GAEpB,U,gNCFA,MAAM,GAAc,GAEpB,U,0DCAA,MAAMrK,GAAQE,EAAAA,EAAAA,OACR,eAAE0B,IAAmB7B,EAAAA,EAAAA,KAGrBuK,GAAiBjN,EAAAA,EAAAA,IAAI,IAGrBkE,GAAUwC,EAAAA,EAAAA,KAAS,IAAMnC,M,OAG/BiI,EAAAA,EAAAA,IAAMS,GAAgBvL,UACf+K,GAAYA,IAAa9J,EAAMyE,QAAQzC,QAC5ChC,EAAM0B,SAAS,eAAgBoI,EAAS,KAG1CE,EAAAA,EAAAA,KAAUjL,UACRuL,EAAe7M,MAAQuC,EAAMyE,QAAQzC,MAAK,I,ogBClB5C,MAAM,GAAc,GAEpB,U,gECCA,MAAMhC,GAAQE,EAAAA,EAAAA,OACR,mBAAE6B,IAAuBhC,EAAAA,EAAAA,KACzBwK,GAASC,EAAAA,EAAAA,MAGTC,GAAepN,EAAAA,EAAAA,IAAI,IAGnBmH,GAAgBT,EAAAA,EAAAA,KAAS,IAAM/D,EAAMyE,QAAQzC,SAC7CP,GAAQsC,EAAAA,EAAAA,KAAS,IAAMhC,EAAmByC,EAAc/G,S,OAG9DoM,EAAAA,EAAAA,IAAMrF,GAAezF,UACd+K,IACLW,EAAahN,MAAQuC,EAAMyE,QAAQvC,KAAG,KAExC2H,EAAAA,EAAAA,IAAMY,GAAc1L,UACb+K,GAAYA,IAAa9J,EAAMyE,QAAQvC,aACtClC,EAAM0B,SAAS,aAAcoI,GACnCS,EAAO7M,KAAK,CAAEmD,KAAM,YAAY,KAGlCmJ,EAAAA,EAAAA,KAAUjL,UACR0L,EAAahN,MAAQuC,EAAMyE,QAAQvC,IAAG,I,4fC1BxC,MAAM,GAAc,GAEpB,U,sQCFA,MAAM,GAAc,GAEpB,UCDA,MAAMwI,GAAS,CACb,CACEC,KAAM,IACN9J,KAAM,UACN+J,UAAWC,IAEb,CACEF,KAAM,QACN9J,KAAM,OACN+J,UAAWE,IAEb,CACEH,KAAM,YACN9J,KAAM,WAIN+J,UAAWA,IAAM,8BAEnB,CACED,KAAM,SACN9J,KAAM,QACN+J,UAAWA,IAAM,gCAIfL,IAASQ,EAAAA,EAAAA,IAAa,CAC1BC,SAASC,EAAAA,EAAAA,MACTP,YAGF,U,sBC9BA,MAAMQ,GAAc,IAAIC,GAAAA,GAAgB,CAQtC3L,SAASY,EAAAA,GAAAA,KAAqBkC,qBAC9B8I,cAAc,EACdC,IAAK,UAGP,QAAeC,EAAAA,EAAAA,IAAY,CACzBpG,MAAO,CACLqG,QAAS,GACTvJ,OAAQ,GACRE,KAAM,GACN0C,aAAc,EACduF,UAAW,GAEb1F,QAAS,CACPzC,OAASkD,GAAUA,EAAMlD,OACzBE,KAAOgD,GAAUA,EAAMhD,KACvB0C,aAAeM,GAAUA,EAAMN,aAC/BuF,UAAYjF,GAAUA,EAAMiF,WAE9BqB,UAAW,CACTC,UAAAA,CAAYvG,EAAOqG,GACjBrG,EAAMqG,QAAUA,CAClB,EACAG,SAAAA,CAAWxG,EAAOlD,GAChBkD,EAAMlD,OAASA,CACjB,EACA2J,OAAAA,CAASzG,EAAOhD,GACdgD,EAAMhD,KAAOA,CACf,EACA0J,eAAAA,CAAiB1G,EAAO3G,GACtB2G,EAAMN,aAAerG,CACvB,EACAsN,YAAAA,CAAc3G,EAAO6B,GACnB7B,EAAMiF,UAAYpD,CACpB,EACA+E,cAAAA,CAAgB5G,GACdA,EAAMlD,OAAS,GACfkD,EAAMhD,KAAO,GACbgD,EAAMN,aAAe,EACrBM,EAAMiF,UAAY,CACpB,GAEF4B,QAAS,CACPC,aAAAA,EAAe,MAAE9G,EAAK,OAAE+G,GAAUV,GAC3BA,EAGMA,IAAYrG,EAAMqG,UAC3BU,EAAO,aAAcV,GACrBU,EAAO,oBAJPA,EAAO,aAAc,IACrBA,EAAO,kBAKX,EACAC,YAAAA,EAAc,OAAED,GAAUjK,GACxBiK,EAAO,UAAW,IAClBA,EAAO,kBAAmB,GAC1BA,EAAO,YAAajK,GACpBiK,EAAO,eAAgB,EACzB,EACAE,UAAAA,EAAY,OAAEF,GAAU/J,GACtB+J,EAAO,kBAAmB,GAC1BA,EAAO,UAAW/J,GAClB+J,EAAO,eAAgB,EACzB,EACAG,kBAAAA,EAAoB,OAAEH,GAAU1N,GAC9B0N,EAAO,kBAAmB1N,GAC1B0N,EAAO,eAAgB,EACzB,EACAI,eAAAA,EAAiB,OAAEJ,GAAUlF,GAC3BkF,EAAO,eAAgBlF,EACzB,GAEFuF,QAAS,CACT,EACAC,QAAQC,EACRC,QAAS,CAACvB,GAAYwB,U,WCnFT,SAASC,GAAqBpC,EAAQvK,GACnD,MAAM,kBAAE5B,EAAiB,iBAAEK,IAAqBnB,EAAAA,EAAAA,MAC1C,iBAAE6C,IAAqBJ,EAAAA,EAAAA,GAAiBC,GAE9CuK,EAAOqC,YAAW7N,MAAOoE,EAAI0J,WAErB7M,EAAM8M,SAIZ,MAAMjN,QAAsBM,IAC5B,IAAKN,GAA6B,UAAZsD,EAAGtC,KAGvB,OADAzC,EAAkB,qDAAsD,IAAI,GACrE,CAAEyC,KAAM,SAIjB,GAAIhB,GAA6B,UAAZsD,EAAGtC,KAAkB,CACxC,MAAM/B,QAAsBH,EAAAA,GAAAA,KAAsBG,cAAce,GAChE,IAAKf,EAEH,OADAV,EAAkB,yCAA0C,IAAI,GACzD,CAAEyC,KAAM,QAASkM,MAAO,CAAEC,SAAS,GAE9C,CAGA,OAAMhN,EAAMyE,QAAQzC,QAAWhC,EAAMyE,QAAQvC,MAAqB,YAAZiB,EAAGtC,UAAzD,GACEzC,EAAkB,oDAAqD,IAAI,GACpE,CAAEyC,KAAM,QACjB,IAGF0J,EAAO0C,WAAU,KAEfxO,GAAkB,GAEtB,CCjCAkO,GAAoBpC,GAAQvK,IAE5B,MAAMkN,IAAMC,EAAAA,EAAAA,IAAUC,GAAKC,IAAIrN,IAAOqN,IAAI9C,IAM1C2C,GAAII,MAAM,O,GCfNC,EAA2B,CAAC,EAGhC,SAASC,EAAoBC,GAE5B,IAAIC,EAAeH,EAAyBE,GAC5C,QAAqBE,IAAjBD,EACH,OAAOA,EAAaE,QAGrB,IAAIC,EAASN,EAAyBE,GAAY,CAGjDG,QAAS,CAAC,GAOX,OAHAE,EAAoBL,GAAUM,KAAKF,EAAOD,QAASC,EAAQA,EAAOD,QAASJ,GAGpEK,EAAOD,OACf,CAGAJ,EAAoBQ,EAAIF,E,WCzBxB,IAAIG,EAAW,GACfT,EAAoBU,EAAI,SAASC,EAAQC,EAAUC,EAAIC,GACtD,IAAGF,EAAH,CAMA,IAAIG,EAAeC,IACnB,IAASC,EAAI,EAAGA,EAAIR,EAAS5D,OAAQoE,IAAK,CACrCL,EAAWH,EAASQ,GAAG,GACvBJ,EAAKJ,EAASQ,GAAG,GACjBH,EAAWL,EAASQ,GAAG,GAE3B,IAJA,IAGIC,GAAY,EACPC,EAAI,EAAGA,EAAIP,EAAS/D,OAAQsE,MACpB,EAAXL,GAAsBC,GAAgBD,IAAazM,OAAOC,KAAK0L,EAAoBU,GAAGU,OAAM,SAASvD,GAAO,OAAOmC,EAAoBU,EAAE7C,GAAK+C,EAASO,GAAK,IAChKP,EAAS5P,OAAOmQ,IAAK,IAErBD,GAAY,EACTJ,EAAWC,IAAcA,EAAeD,IAG7C,GAAGI,EAAW,CACbT,EAASzP,OAAOiQ,IAAK,GACrB,IAAII,EAAIR,SACEV,IAANkB,IAAiBV,EAASU,EAC/B,CACD,CACA,OAAOV,CArBP,CAJCG,EAAWA,GAAY,EACvB,IAAI,IAAIG,EAAIR,EAAS5D,OAAQoE,EAAI,GAAKR,EAASQ,EAAI,GAAG,GAAKH,EAAUG,IAAKR,EAASQ,GAAKR,EAASQ,EAAI,GACrGR,EAASQ,GAAK,CAACL,EAAUC,EAAIC,EAwB/B,C,eC5BAd,EAAoBsB,EAAI,SAASjB,GAChC,IAAIkB,EAASlB,GAAUA,EAAOmB,WAC7B,WAAa,OAAOnB,EAAO,UAAY,EACvC,WAAa,OAAOA,CAAQ,EAE7B,OADAL,EAAoByB,EAAEF,EAAQ,CAAEG,EAAGH,IAC5BA,CACR,C,eCNAvB,EAAoByB,EAAI,SAASrB,EAASuB,GACzC,IAAI,IAAI9D,KAAO8D,EACX3B,EAAoB4B,EAAED,EAAY9D,KAASmC,EAAoB4B,EAAExB,EAASvC,IAC5ExJ,OAAOwN,eAAezB,EAASvC,EAAK,CAAEiE,YAAY,EAAMC,IAAKJ,EAAW9D,IAG3E,C,eCPAmC,EAAoBgC,EAAI,CAAC,EAGzBhC,EAAoB9N,EAAI,SAAS+P,GAChC,OAAOC,QAAQC,IAAI9N,OAAOC,KAAK0L,EAAoBgC,GAAGI,QAAO,SAASC,EAAUxE,GAE/E,OADAmC,EAAoBgC,EAAEnE,GAAKoE,EAASI,GAC7BA,CACR,GAAG,IACJ,C,eCPArC,EAAoBsC,EAAI,SAASL,GAEhC,MAAO,sBACR,C,eCHAjC,EAAoBuC,SAAW,SAASN,GAGxC,C,eCJAjC,EAAoBwC,EAAI,WACvB,GAA0B,kBAAfC,WAAyB,OAAOA,WAC3C,IACC,OAAOC,MAAQ,IAAIC,SAAS,cAAb,EAChB,CAAE,MAAOzQ,GACR,GAAsB,kBAAX0Q,OAAqB,OAAOA,MACxC,CACA,CAPuB,E,eCAxB5C,EAAoB4B,EAAI,SAASiB,EAAKC,GAAQ,OAAOzO,OAAO0O,UAAUC,eAAezC,KAAKsC,EAAKC,EAAO,C,eCAtG,IAAIG,EAAa,CAAC,EACdC,EAAoB,cAExBlD,EAAoBmD,EAAI,SAASC,EAAKC,EAAMxF,EAAKoE,GAChD,GAAGgB,EAAWG,GAAQH,EAAWG,GAAKlT,KAAKmT,OAA3C,CACA,IAAIlN,EAAQmN,EACZ,QAAWnD,IAARtC,EAEF,IADA,IAAI0F,EAAUC,SAASC,qBAAqB,UACpCxC,EAAI,EAAGA,EAAIsC,EAAQ1G,OAAQoE,IAAK,CACvC,IAAIyC,EAAIH,EAAQtC,GAChB,GAAGyC,EAAEC,aAAa,QAAUP,GAAOM,EAAEC,aAAa,iBAAmBT,EAAoBrF,EAAK,CAAE1H,EAASuN,EAAG,KAAO,CACpH,CAEGvN,IACHmN,GAAa,EACbnN,EAASqN,SAASI,cAAc,UAEhCzN,EAAO0N,QAAU,QACjB1N,EAAO2N,QAAU,IACb9D,EAAoB+D,IACvB5N,EAAO6N,aAAa,QAAShE,EAAoB+D,IAElD5N,EAAO6N,aAAa,eAAgBd,EAAoBrF,GAExD1H,EAAO8N,IAAMb,GAEdH,EAAWG,GAAO,CAACC,GACnB,IAAIa,EAAmB,SAASC,EAAMC,GAErCjO,EAAOkO,QAAUlO,EAAOmO,OAAS,KACjCC,aAAaT,GACb,IAAIU,EAAUvB,EAAWG,GAIzB,UAHOH,EAAWG,GAClBjN,EAAOsO,YAActO,EAAOsO,WAAWC,YAAYvO,GACnDqO,GAAWA,EAAQG,SAAQ,SAAS9D,GAAM,OAAOA,EAAGuD,EAAQ,IACzDD,EAAM,OAAOA,EAAKC,EACtB,EACIN,EAAUc,WAAWV,EAAiBW,KAAK,UAAM1E,EAAW,CAAE5P,KAAM,UAAWuU,OAAQ3O,IAAW,MACtGA,EAAOkO,QAAUH,EAAiBW,KAAK,KAAM1O,EAAOkO,SACpDlO,EAAOmO,OAASJ,EAAiBW,KAAK,KAAM1O,EAAOmO,QACnDhB,GAAcE,SAASuB,KAAKC,YAAY7O,EApCkB,CAqC3D,C,eCxCA6J,EAAoBqB,EAAI,SAASjB,GACX,qBAAX6E,QAA0BA,OAAOC,aAC1C7Q,OAAOwN,eAAezB,EAAS6E,OAAOC,YAAa,CAAEjV,MAAO,WAE7DoE,OAAOwN,eAAezB,EAAS,aAAc,CAAEnQ,OAAO,GACvD,C,eCNA+P,EAAoBmF,EAAI,E,eCKxB,IAAIC,EAAkB,CACrB,IAAK,GAGNpF,EAAoBgC,EAAEb,EAAI,SAASc,EAASI,GAE1C,IAAIgD,EAAqBrF,EAAoB4B,EAAEwD,EAAiBnD,GAAWmD,EAAgBnD,QAAW9B,EACtG,GAA0B,IAAvBkF,EAGF,GAAGA,EACFhD,EAASnS,KAAKmV,EAAmB,QAC3B,CAGL,IAAIC,EAAU,IAAIpD,SAAQ,SAASqD,EAASC,GAAUH,EAAqBD,EAAgBnD,GAAW,CAACsD,EAASC,EAAS,IACzHnD,EAASnS,KAAKmV,EAAmB,GAAKC,GAGtC,IAAIlC,EAAMpD,EAAoBmF,EAAInF,EAAoBsC,EAAEL,GAEpD7P,EAAQ,IAAIqT,MACZC,EAAe,SAAStB,GAC3B,GAAGpE,EAAoB4B,EAAEwD,EAAiBnD,KACzCoD,EAAqBD,EAAgBnD,GACX,IAAvBoD,IAA0BD,EAAgBnD,QAAW9B,GACrDkF,GAAoB,CACtB,IAAIM,EAAYvB,IAAyB,SAAfA,EAAM7T,KAAkB,UAAY6T,EAAM7T,MAChEqV,EAAUxB,GAASA,EAAMU,QAAUV,EAAMU,OAAOb,IACpD7R,EAAM5B,QAAU,iBAAmByR,EAAU,cAAgB0D,EAAY,KAAOC,EAAU,IAC1FxT,EAAMiB,KAAO,iBACbjB,EAAM7B,KAAOoV,EACbvT,EAAMyT,QAAUD,EAChBP,EAAmB,GAAGjT,EACvB,CAEF,EACA4N,EAAoBmD,EAAEC,EAAKsC,EAAc,SAAWzD,EAASA,EAE/D,CAEH,EAUAjC,EAAoBU,EAAES,EAAI,SAASc,GAAW,OAAoC,IAA7BmD,EAAgBnD,EAAgB,EAGrF,IAAI6D,EAAuB,SAASC,EAA4BC,GAC/D,IAKI/F,EAAUgC,EALVrB,EAAWoF,EAAK,GAChBC,EAAcD,EAAK,GACnBE,EAAUF,EAAK,GAGI/E,EAAI,EAC3B,GAAGL,EAASuF,MAAK,SAASC,GAAM,OAA+B,IAAxBhB,EAAgBgB,EAAW,IAAI,CACrE,IAAInG,KAAYgG,EACZjG,EAAoB4B,EAAEqE,EAAahG,KACrCD,EAAoBQ,EAAEP,GAAYgG,EAAYhG,IAGhD,GAAGiG,EAAS,IAAIvF,EAASuF,EAAQlG,EAClC,CAEA,IADG+F,GAA4BA,EAA2BC,GACrD/E,EAAIL,EAAS/D,OAAQoE,IACzBgB,EAAUrB,EAASK,GAChBjB,EAAoB4B,EAAEwD,EAAiBnD,IAAYmD,EAAgBnD,IACrEmD,EAAgBnD,GAAS,KAE1BmD,EAAgBnD,GAAW,EAE5B,OAAOjC,EAAoBU,EAAEC,EAC9B,EAEI0F,EAAqBC,KAAK,0BAA4BA,KAAK,2BAA6B,GAC5FD,EAAmB1B,QAAQmB,EAAqBjB,KAAK,KAAM,IAC3DwB,EAAmBnW,KAAO4V,EAAqBjB,KAAK,KAAMwB,EAAmBnW,KAAK2U,KAAKwB,G,ICpFvF,IAAIE,EAAsBvG,EAAoBU,OAAEP,EAAW,CAAC,MAAM,WAAa,OAAOH,EAAoB,KAAO,IACjHuG,EAAsBvG,EAAoBU,EAAE6F,E","sources":["webpack://fable-flow/./src/composables/flashMessages.js","webpack://fable-flow/./src/composables/handlePermission.js","webpack://fable-flow/./src/composables/libraryLoader.js","webpack://fable-flow/./src/composables/storageInstance.js","webpack://fable-flow/./src/constants.js","webpack://fable-flow/./src/components/NavBar.vue","webpack://fable-flow/./src/components/NavBar.vue?01fd","webpack://fable-flow/./src/App.vue","webpack://fable-flow/./src/App.vue?7ccd","webpack://fable-flow/./src/registerServiceWorker.js","webpack://fable-flow/./src/components/ChapterInfo.vue","webpack://fable-flow/./src/components/ChapterInfo.vue?173a","webpack://fable-flow/./src/composables/keepAlive.js","webpack://fable-flow/./src/components/AudioPlayerPlayButton.vue","webpack://fable-flow/./src/components/AudioPlayerPlayButton.vue?db07","webpack://fable-flow/./src/components/AudioPlayerRewindButton.vue","webpack://fable-flow/./src/components/AudioPlayerRewindButton.vue?c04b","webpack://fable-flow/./src/composables/displayFilters.js","webpack://fable-flow/./src/components/AudioPlayerTimeview.vue","webpack://fable-flow/./src/components/AudioPlayerTimeview.vue?6404","webpack://fable-flow/./src/components/AudioPlayerTimeline.vue","webpack://fable-flow/./src/components/AudioPlayerTimeline.vue?7458","webpack://fable-flow/./src/components/AudioPlayer.vue","webpack://fable-flow/./src/components/AudioPlayer.vue?4f54","webpack://fable-flow/./src/components/BookInfo.vue","webpack://fable-flow/./src/components/BookInfo.vue?a9d0","webpack://fable-flow/./src/views/ChapterPlayView.vue","webpack://fable-flow/./src/components/AuthorSelect.vue","webpack://fable-flow/./src/components/AuthorSelect.vue?4b90","webpack://fable-flow/./src/components/BookSelect.vue","webpack://fable-flow/./src/components/BookSelect.vue?1032","webpack://fable-flow/./src/views/BookSelectionView.vue","webpack://fable-flow/./src/router/index.js","webpack://fable-flow/./src/store/index.js","webpack://fable-flow/./src/router/guards.js","webpack://fable-flow/./src/main.js","webpack://fable-flow/webpack/bootstrap","webpack://fable-flow/webpack/runtime/chunk loaded","webpack://fable-flow/webpack/runtime/compat get default export","webpack://fable-flow/webpack/runtime/define property getters","webpack://fable-flow/webpack/runtime/ensure chunk","webpack://fable-flow/webpack/runtime/get javascript chunk filename","webpack://fable-flow/webpack/runtime/get mini-css chunk filename","webpack://fable-flow/webpack/runtime/global","webpack://fable-flow/webpack/runtime/hasOwnProperty shorthand","webpack://fable-flow/webpack/runtime/load script","webpack://fable-flow/webpack/runtime/make namespace object","webpack://fable-flow/webpack/runtime/publicPath","webpack://fable-flow/webpack/runtime/jsonp chunk loading","webpack://fable-flow/webpack/startup"],"sourcesContent":["import { ref } from 'vue'\r\n\r\nconst flashMessages = ref([])\r\n\r\nexport function useFlashMessages () {\r\n  const addMessage = (messageObject) => {\r\n    flashMessages.value.push(messageObject)\r\n  }\r\n\r\n  const addSuccessMessage = (content, messageTitle = '', toPersistOnce = false) => {\r\n    addMessage({ type: 'success', message: content, title: messageTitle, persistOnce: toPersistOnce })\r\n  }\r\n\r\n  const addInfoMessage = (content, messageTitle = '', toPersistOnce = false) => {\r\n    addMessage({ type: 'info', message: content, title: messageTitle, persistOnce: toPersistOnce })\r\n  }\r\n\r\n  const addWarningMessage = (content, messageTitle = '', toPersistOnce = false) => {\r\n    addMessage({ type: 'warning', message: content, title: messageTitle, persistOnce: toPersistOnce })\r\n  }\r\n\r\n  const addErrorMessage = (content, messageTitle = '', toPersistOnce = false) => {\r\n    addMessage({ type: 'error', message: content, title: messageTitle, persistOnce: toPersistOnce })\r\n  }\r\n\r\n  const clearMessage = (index) => {\r\n    flashMessages.value.splice(index, 1)\r\n  }\r\n\r\n  const clearAllMessages = () => {\r\n    const persisted = []\r\n    for (const message of flashMessages.value) {\r\n      if (message.persistOnce) {\r\n        message.persistOnce = false\r\n        persisted.push(message)\r\n      }\r\n    }\r\n    flashMessages.value = persisted\r\n  }\r\n\r\n  return { flashMessages, addSuccessMessage, addInfoMessage, addWarningMessage, addErrorMessage, clearMessage, clearAllMessages }\r\n}\r\n","import { ref } from 'vue'\r\nimport { DIRECTORY_PERMISSION_MODE } from '@/constants'\r\nimport { useFlashMessages } from '@/composables/flashMessages'\r\n\r\nexport function useHandlePermission () {\r\n  const permissionStatus = ref(null)\r\n  let isChecking = false\r\n  const { addErrorMessage } = useFlashMessages()\r\n\r\n  const hasPermission = async (handle) => {\r\n    if (!handle) {\r\n      permissionStatus.value = false\r\n      return\r\n    }\r\n\r\n    if (permissionStatus.value === null && !isChecking) {\r\n      isChecking = true\r\n      await checkPermission(handle)\r\n    }\r\n    return permissionStatus.value\r\n  }\r\n\r\n  const checkPermission = async (handle) => {\r\n    try {\r\n      // Check current\r\n      let permission = await handle.queryPermission({ mode: DIRECTORY_PERMISSION_MODE })\r\n\r\n      // If not granted, ask for it\r\n      if (permission !== 'granted') {\r\n        permission = await handle.requestPermission({ mode: DIRECTORY_PERMISSION_MODE })\r\n        if (navigator.storage && navigator.storage.persist) {\r\n          await navigator.storage.persist()\r\n        }\r\n      }\r\n      permissionStatus.value = (permission === 'granted')\r\n    } catch (e) {\r\n      addErrorMessage('An error occurred on permission check')\r\n      console.error(e)\r\n      permissionStatus.value = false\r\n    }\r\n    isChecking = false\r\n  }\r\n\r\n  return { permissionStatus, hasPermission }\r\n}\r\n","import { ref } from 'vue'\r\nimport { FILE_EXTENSIONS_SUPPORTED } from '@/constants'\r\nimport { useStore } from 'vuex'\r\nimport { useFlashMessages } from '@/composables/flashMessages'\r\nimport { useStorageInstance } from '@/composables/storageInstance'\r\n\r\nconst libraryHandle = ref(null)\r\nconst tracks = ref({})\r\n\r\nexport function useLibraryLoader (store) {\r\n  let isLoading = false\r\n  if (!store) store = useStore()\r\n  const { addErrorMessage } = useFlashMessages()\r\n\r\n  const getLibraryHandle = async () => {\r\n    if (libraryHandle.value) {\r\n      return libraryHandle.value\r\n    }\r\n    // try to retrieve what was stored\r\n    libraryHandle.value = await useStorageInstance().getLibraryHandle()\r\n    if (libraryHandle.value) {\r\n      // if something was stored, reload library\r\n      await loadLibrary(libraryHandle.value)\r\n    }\r\n    return libraryHandle.value\r\n  }\r\n\r\n  const listAuthors = async () => {\r\n    const list = []\r\n    if (!libraryHandle.value) return list\r\n\r\n    try {\r\n      for await (const [, entry] of libraryHandle.value.entries()) {\r\n        if (entry.kind === 'directory') {\r\n          list.push(entry)\r\n        }\r\n      }\r\n    } catch (e) {\r\n      addErrorMessage('An error occurred on authors listing')\r\n      console.error(e)\r\n    }\r\n    return list\r\n  }\r\n\r\n  const listBooksFromAuthor = async (authorHandle) => {\r\n    const list = []\r\n    if (!authorHandle) return list\r\n\r\n    try {\r\n      for await (const [, entry] of authorHandle.entries()) {\r\n        if (entry.kind === 'directory') {\r\n          list.push(entry)\r\n        }\r\n      }\r\n    } catch (e) {\r\n      addErrorMessage('An error occurred on books listing for author ' + authorHandle.name)\r\n      console.error(e)\r\n    }\r\n    return list\r\n  }\r\n\r\n  const listChaptersFromBook = async (bookHandle) => {\r\n    const list = []\r\n    if (!bookHandle) return list\r\n\r\n    try {\r\n      for await (const [name, entry] of bookHandle.entries()) {\r\n        if (entry.kind === 'file') {\r\n          // get file extension\r\n          const extension = name.slice(name.lastIndexOf('.'))\r\n          if (FILE_EXTENSIONS_SUPPORTED.includes(extension)) {\r\n            list.push(entry)\r\n          } else {\r\n            console.log('File extension not supported for file ' + bookHandle.name + '/' + name)\r\n          }\r\n        }\r\n      }\r\n    } catch (e) {\r\n      addErrorMessage('An error occurred on chapters listing for book ' + bookHandle.name)\r\n      console.error(e)\r\n    }\r\n    return list\r\n  }\r\n\r\n  const loadLibrary = async (mainHandle) => {\r\n    isLoading = true\r\n    libraryHandle.value = mainHandle\r\n    tracks.value = {}\r\n    const authors = await listAuthors()\r\n    for (const authorHandle of authors) {\r\n      const authorBooks = {}\r\n      const books = await listBooksFromAuthor(authorHandle)\r\n      for (const bookHandle of books) {\r\n        authorBooks[bookHandle.name] = await listChaptersFromBook(bookHandle)\r\n      }\r\n      tracks.value[authorHandle.name] = authorBooks\r\n    }\r\n    await store.dispatch('selectLibrary', mainHandle.name)\r\n    await useStorageInstance().setLibraryHandle(mainHandle)\r\n    isLoading = false\r\n  }\r\n\r\n  const getAuthorsList = () => {\r\n    return Object.keys(tracks.value)\r\n  }\r\n\r\n  const getBooksFromAuthor = (author) => {\r\n    if (!tracks.value[author]) return []\r\n    return Object.keys(tracks.value[author])\r\n  }\r\n\r\n  const getChaptersFromBook = (author, book) => {\r\n    if (!tracks.value[author]) return []\r\n    if (!tracks.value[author][book]) return []\r\n    return tracks.value[author][book]\r\n  }\r\n\r\n  const getChapterFromBook = (author, book, index) => {\r\n    const chapters = getChaptersFromBook(author, book)\r\n    if (!chapters[index]) return null\r\n    return chapters[index]\r\n  }\r\n\r\n  return {\r\n    libraryHandle,\r\n    getLibraryHandle,\r\n    tracks,\r\n    loadLibrary,\r\n    getAuthorsList,\r\n    getBooksFromAuthor,\r\n    getChaptersFromBook,\r\n    getChapterFromBook,\r\n    isLoading\r\n  }\r\n}\r\n","import { ref } from 'vue'\r\nimport localforage from 'localforage'\r\nimport { PERSISTENCE_KEY } from '@/constants'\r\n\r\nexport function useStorageInstance () {\r\n  const storageInstance = ref(null)\r\n\r\n  const getStorageInstance = () => {\r\n    if (!storageInstance.value) {\r\n      storageInstance.value = localforage.createInstance({\r\n        name: PERSISTENCE_KEY,\r\n        storeName: 'application-data'\r\n      })\r\n    }\r\n    return storageInstance.value\r\n  }\r\n\r\n  const getLibraryHandle = async () => {\r\n    const instance = getStorageInstance()\r\n    return await instance.getItem('libraryHandle')\r\n  }\r\n\r\n  const setLibraryHandle = async (value) => {\r\n    const instance = getStorageInstance()\r\n    return await instance.setItem('libraryHandle', value)\r\n  }\r\n\r\n  return { getStorageInstance, getLibraryHandle, setLibraryHandle }\r\n}\r\n","// mode used to browse user's directories\r\nexport const DIRECTORY_PERMISSION_MODE = 'read'\r\n\r\n// list of extension supported by the application\r\nexport const FILE_EXTENSIONS_SUPPORTED = ['.mp3']\r\n\r\n// key used for persistence\r\nexport const PERSISTENCE_KEY = 'keiwen-fable-flow'\r\n","<script setup>\r\n</script>\r\n\r\n<template>\r\n  <nav>\r\n    <div class=\"nav-item\">\r\n      <router-link to=\"/book\" aria-label=\"Navigate to book selection\">Book</router-link>\r\n    </div>\r\n    <div class=\"nav-item\" aria-label=\"Navigate to chapter page\">\r\n      <router-link to=\"/\">Chapter</router-link>\r\n    </div>\r\n    <div class=\"nav-item\" aria-label=\"Navigate to settings\">\r\n      <router-link to=\"/settings\">Settings</router-link>\r\n    </div>\r\n  </nav>\r\n</template>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","import { render } from \"./NavBar.vue?vue&type=template&id=f5f03ea8\"\nconst script = {}\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<script setup>\nimport { useFlashMessages } from '@/composables/flashMessages'\nimport { computed } from 'vue'\nimport NavBar from '@/components/NavBar'\n\nconst { flashMessages, clearMessage } = useFlashMessages()\nconst messages = computed(() => flashMessages.value)\n\nconst computeAlertClass = (type) => {\n  switch (type) {\n    case 'error': return 'alert-danger'\n    default:\n      return 'alert-' + type\n  }\n}\n\n</script>\n\n<template>\n  <nav-bar></nav-bar>\n  <div class=\"message-container\">\n    <div v-for=\"(message, msgIndex) in messages\" :key=\"msgIndex\" class=\"alert\" :class=\"computeAlertClass(message.type)\" @click=\"clearMessage(msgIndex)\">\n      {{ message.message }}\n    </div>\n  </div>\n  <router-view class=\"content\"/>\n</template>\n\n<style lang=\"scss\">\n</style>\n","import script from \"./App.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./App.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","/* eslint-disable no-console */\n\nimport { register } from 'register-service-worker'\n\nif (process.env.NODE_ENV === 'production') {\n  register(`${process.env.BASE_URL}service-worker.js`, {\n    ready () {\n      console.log(\n        'App is being served from cache by a service worker.\\n' +\n        'For more details, visit https://goo.gl/AFskqB'\n      )\n    },\n    registered () {\n      console.log('Service worker has been registered.')\n    },\n    cached () {\n      console.log('Content has been cached for offline use.')\n    },\n    updatefound () {\n      console.log('New content is downloading.')\n    },\n    updated () {\n      console.log('New content is available; please refresh.')\n    },\n    offline () {\n      console.log('No internet connection found. App is running in offline mode.')\n    },\n    error (error) {\n      console.error('Error during service worker registration:', error)\n    }\n  })\n}\n","<script setup>\r\nimport { computed } from 'vue'\r\nimport { useStore } from 'vuex'\r\nimport { useLibraryLoader } from '@/composables/libraryLoader'\r\n\r\nconst store = useStore()\r\nconst { getChapterFromBook } = useLibraryLoader()\r\n\r\n// computed\r\nconst currentAuthor = computed(() => store.getters.author)\r\nconst currentBook = computed(() => store.getters.book)\r\nconst currentChapterIndex = computed(() => store.getters.chapterIndex)\r\nconst currentChapter = computed(() => getChapterFromBook(currentAuthor.value, currentBook.value, currentChapterIndex.value))\r\n\r\n</script>\r\n\r\n<template>\r\n  <div>\r\n    <p>\r\n      {{ currentChapter ? currentChapter.name : '' }}\r\n    </p>\r\n  </div>\r\n</template>\r\n\r\n<style scoped lang=\"scss\">\r\n\r\n</style>\r\n","import script from \"./ChapterInfo.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ChapterInfo.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { ref } from 'vue'\r\n\r\nconst audioContext = ref(null)\r\n\r\n/*\r\nThis is designed to 'fake' an active process\r\nThe goal is to activate it only when chapter is played\r\nThis way, application is considered as active and may avoir a system closure for battery saving\r\n */\r\n\r\nexport function useKeepAlive () {\r\n  const start = async () => {\r\n    if (!audioContext.value) {\r\n      audioContext.value = new AudioContext()\r\n\r\n      console.log('state is', audioContext.value.state)\r\n      if (audioContext.value.state === 'suspended') {\r\n        await audioContext.value.resume()\r\n      }\r\n\r\n      try {\r\n        // inject code to return an active process\r\n        const workletCode = `\r\n          class SilentProcessor extends AudioWorkletProcessor {\r\n            process(inputs, outputs, parameters) {\r\n              return true\r\n            }\r\n          }\r\n          registerProcessor('silent-processor', SilentProcessor)\r\n        `\r\n        const blob = new Blob([workletCode], { type: 'application/javascript' })\r\n        const workletURL = URL.createObjectURL(blob)\r\n\r\n        await audioContext.value.audioWorklet.addModule(workletURL)\r\n\r\n        const node = new AudioWorkletNode(audioContext.value, 'silent-processor')\r\n        node.connect(audioContext.value.destination)\r\n      } catch (e) {\r\n        console.error('Issue in Audio Worklet', e)\r\n      }\r\n    }\r\n  }\r\n\r\n  const stop = () => {\r\n    if (audioContext.value) {\r\n      audioContext.value.close()\r\n      audioContext.value = null\r\n    }\r\n  }\r\n\r\n  return { start, stop }\r\n}\r\n","<script setup>\r\nimport { computed } from 'vue'\r\n\r\nconst props = defineProps({\r\n  playing: { type: Boolean, default: false },\r\n  color: { type: String, default: 'white' }\r\n})\r\nconst emit = defineEmits(['click-play'])\r\n\r\n// computed\r\nconst divClass = computed(() => {\r\n  let divClass = 'play-button'\r\n  if (props.playing) {\r\n    divClass += ' play-button-playing'\r\n  }\r\n  return divClass\r\n})\r\n\r\n// methods\r\nconst clickOnPlay = () => {\r\n  emit('click-play')\r\n}\r\n\r\n</script>\r\n\r\n<template>\r\n  <div :class=\"divClass\" @click=\"clickOnPlay()\" role=\"button\" :aria-label=\"playing ? 'Pause track' : 'Play track'\">\r\n    <svg id=\"play\" xmlns=\"http://www.w3.org/2000/svg\" x=\"0px\" y=\"0px\"\r\n         viewBox=\"0 0 100 100\" xml:space=\"preserve\">\r\n      <path class=\"play-border play-border-solid\" fill=\"none\" :stroke=\"color\"\r\n            d=\"M49.9,2.5C23.6,2.8,2.1,24.4,2.5,50.4C2.9,76.5,24.7,98,50.3,97.5c26.4-0.6,47.4-21.8,47.2-47.7 C97.3,23.7,75.7,2.3,49.9,2.5\"\r\n      />\r\n      <path class=\"play-border play-border-dotted\" fill=\"none\" :stroke=\"color\"\r\n            d=\"M49.9,2.5C23.6,2.8,2.1,24.4,2.5,50.4C2.9,76.5,24.7,98,50.3,97.5c26.4-0.6,47.4-21.8,47.2-47.7 C97.3,23.7,75.7,2.3,49.9,2.5\"\r\n      />\r\n      <path class=\"play-icon\" :fill=\"color\"\r\n            d=\"M38,69c-1,0.5-1.8,0-1.8-1.1V32.1c0-1.1,0.8-1.6,1.8-1.1l34,18c1,0.5,1,1.4,0,1.9L38,69z\"\r\n      />\r\n      <path class=\"pause-icon\" :fill=\"color\"\r\n            d=\"M37.5 21.875a3.125 3.125 0 0 1 3.125 3.125v50a3.125 3.125 0 0 1 -6.25 0V25a3.125 3.125 0 0 1 3.125 -3.125zm25 0a3.125 3.125 0 0 1 3.125 3.125v50a3.125 3.125 0 0 1 -6.25 0V25a3.125 3.125 0 0 1 3.125 -3.125z\"\r\n      />\r\n    </svg>\r\n  </div>\r\n</template>\r\n\r\n<style lang=\"scss\">\r\n\r\n</style>\r\n","import script from \"./AudioPlayerPlayButton.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./AudioPlayerPlayButton.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<script setup>\r\ndefineProps({\r\n  color: { type: String, default: 'white' }\r\n})\r\nconst emit = defineEmits(['click-rewind'])\r\n\r\n// methods\r\nconst clickOnRewind = () => {\r\n  emit('click-rewind')\r\n}\r\n\r\n</script>\r\n\r\n<template>\r\n  <div class=\"rewind-button\" @click=\"clickOnRewind()\" role=\"button\" aria-label=\"Rewind track\">\r\n    <svg id=\"rewind\" xmlns=\"http://www.w3.org/2000/svg\" x=\"0px\" y=\"0px\"\r\n         viewBox=\"0 0 512 512\" xml:space=\"preserve\">\r\n      <path class=\"rewind-border\" :fill=\"color\" transform=\"translate(294.3125,42.1875)\"\r\n            d=\"M0 0 C3.9323173 2.65202795 6.18648186 5.30944559 7.6875 9.8125 C8.18891155 14.58823948 8.28755298 18.56238963 6.1875 22.9375 C3.39784526 26.14560295 0.46485501 29.13881691 -2.60546875 32.078125 C-4.3925373 33.71534106 -4.3925373 33.71534106 -5.3125 35.8125 C-4.30304321 35.87618774 -4.30304321 35.87618774 -3.27319336 35.94116211 C3.43348713 36.44548956 9.65624623 37.55734835 16.125 39.375 C17.54171997 39.76981567 17.54171997 39.76981567 18.98706055 40.17260742 C48.20303374 48.5872171 78.13691957 64.01276119 99.25 86.33984375 C100.87130756 88.05722558 100.87130756 88.05722558 103.6875 90.25 C107.46037575 93.4726647 110.52259626 97.00049698 113.6875 100.8125 C114.11836914 101.32039063 114.54923828 101.82828125 114.99316406 102.3515625 C148.66178099 142.1522643 164.98801867 194.12431188 161.46923828 246.03222656 C157.70522811 289.30842083 141.20369088 329.02983141 112.6875 361.8125 C112.18750488 362.39225586 111.68750977 362.97201172 111.17236328 363.56933594 C81.74366789 397.43222645 39.73416298 419.4597025 -4.3125 426.8125 C-5.58738281 427.03679687 -6.86226562 427.26109375 -8.17578125 427.4921875 C-59.41046454 435.01004053 -112.70647676 421.36373081 -154.3125 390.8125 C-158.1083124 387.95982909 -161.74232538 384.94282911 -165.3125 381.8125 C-166.14910156 381.08546875 -166.98570312 380.3584375 -167.84765625 379.609375 C-183.18213614 366.05246233 -195.47535333 351.11625683 -206.3125 333.8125 C-206.69116211 333.21308594 -207.06982422 332.61367188 -207.45996094 331.99609375 C-219.26305646 313.03743555 -226.70376017 291.57665187 -231.3125 269.8125 C-231.48894043 269.00055176 -231.66538086 268.18860352 -231.84716797 267.35205078 C-236.78687192 243.49558165 -236.51703374 215.58594972 -231.3125 191.8125 C-231.11382324 190.89791016 -230.91514648 189.98332031 -230.71044922 189.04101562 C-222.60061042 152.95678904 -205.33905654 120.93120693 -180.3125 93.8125 C-179.61108887 93.05114746 -179.61108887 93.05114746 -178.89550781 92.27441406 C-173.6426276 86.64335672 -168.02166641 81.59429491 -162 76.8125 C-161.42515869 76.35520508 -160.85031738 75.89791016 -160.25805664 75.42675781 C-154.84304777 71.24046997 -150.18039961 68.21496745 -143.26171875 68.53125 C-138.18904793 69.26317845 -134.38988307 71.90219846 -131.296875 75.94921875 C-128.97189998 80.35006431 -128.69937541 85.14589465 -129.8046875 89.953125 C-132.03053029 95.33754469 -136.03105669 98.31736393 -140.59375 101.74609375 C-145.08345729 105.15852932 -149.18338571 108.97783333 -153.3125 112.8125 C-153.95574219 113.39 -154.59898437 113.9675 -155.26171875 114.5625 C-181.04797457 138.78103796 -196.91853739 175.06953985 -201.3125 209.8125 C-201.42335937 210.6271875 -201.53421875 211.441875 -201.6484375 212.28125 C-205.62276126 247.08343643 -197.88141364 281.22197107 -181.3125 311.8125 C-180.97379883 312.4401123 -180.63509766 313.06772461 -180.28613281 313.71435547 C-160.38871664 350.00399247 -124.95716992 378.03781091 -85.31005859 389.6953125 C-38.72347002 402.55277657 6.9928526 397.11445072 49.15087891 373.29833984 C54.99318441 369.87617707 60.4172388 366.05581772 65.6875 361.8125 C66.55012451 361.12486572 66.55012451 361.12486572 67.43017578 360.42333984 C101.85357454 332.7139573 123.22413658 292.60008993 128.6875 248.8125 C130.88471415 198.27657464 118.0675561 153.78827952 83.5625 115.8125 C78.36615118 110.25585746 72.77284726 105.38677588 66.6875 100.8125 C65.90318604 100.21574463 65.90318604 100.21574463 65.10302734 99.60693359 C44.0336965 83.66341575 21.25752183 74.12052301 -4.3125 67.8125 C-1.27623145 71.65978068 1.90487383 75.3194168 5.19921875 78.9453125 C8.61099507 83.22570378 8.25601046 88.6090501 7.6875 93.8125 C6.42402588 97.51365518 4.48780847 100.12652131 1.5 102.6875 C-3.60141859 104.72806744 -8.05692203 105.50717549 -13.3684082 103.87133789 C-18.864441 101.42841875 -22.73900005 96.91683182 -26.89453125 92.69140625 C-28.23761604 91.34694679 -28.23761604 91.34694679 -29.60783386 89.97532654 C-31.49276313 88.08437023 -33.37343837 86.19015109 -35.24780273 84.28881836 C-37.64613905 81.85640666 -40.05752916 79.43746704 -42.47371387 77.02279758 C-44.78626496 74.70957127 -47.09027223 72.38788835 -49.39453125 70.06640625 C-50.25907425 69.1996376 -51.12361725 68.33286896 -52.01435852 67.43983459 C-52.81246445 66.62896896 -53.61057037 65.81810333 -54.43286133 64.98266602 C-55.48707024 63.91702171 -55.48707024 63.91702171 -56.56257629 62.82984924 C-59.57001149 59.36281403 -60.61557621 56.56716037 -60.6875 52 C-60.71585938 51.18917969 -60.74421875 50.37835938 -60.7734375 49.54296875 C-59.44114049 41.65080254 -53.24965982 36.3095787 -47.8203125 30.921875 C-46.99675262 30.09544495 -46.17319275 29.26901489 -45.32467651 28.4175415 C-43.5884635 26.67929422 -41.84848506 24.94480075 -40.10498047 23.21386719 C-37.44275658 20.56772483 -34.79693515 17.90593905 -32.15234375 15.2421875 C-30.45929455 13.55112044 -28.76531512 11.86098408 -27.0703125 10.171875 C-25.88878098 8.98123444 -25.88878098 8.98123444 -24.68338013 7.76654053 C-17.2205209 0.39810206 -10.43755754 -3.74176591 0 0 Z \"\r\n      />\r\n      <path class=\"rewind-icon rewind-icon-1\" :fill=\"color\" transform=\"translate(200.375,171)\"\r\n            d=\"M0 0 C4.52460109 3.44731512 8.80303354 7.53410061 10.625 13 C10.72381789 15.32196798 10.76004615 17.64673118 10.76544189 19.97079468 C10.76841302 20.68445179 10.77138414 21.39810889 10.7744453 22.13339198 C10.78313458 24.53083432 10.78464073 26.92822674 10.78613281 29.32568359 C10.79076078 31.0421306 10.79578541 32.75857658 10.80117798 34.47502136 C10.814305 39.14238556 10.82074739 43.80973538 10.82518864 48.47711515 C10.82811854 51.39200885 10.83222316 54.3068986 10.83669281 57.22179031 C10.85036779 66.33874696 10.86003476 75.45569461 10.8638947 84.5726608 C10.86837728 95.10281164 10.88593444 105.6328328 10.9148953 116.1629442 C10.93649624 124.29889931 10.94659811 132.43481789 10.94793582 140.57080138 C10.94898488 145.43183794 10.95491421 150.29275259 10.97275543 155.153759 C10.98920895 159.72560068 10.99140489 164.29722844 10.98261642 168.86908913 C10.98184462 170.547282 10.98620761 172.22548624 10.99607468 173.90365028 C11.00875418 176.19443546 11.00293971 178.4844584 10.99249268 180.77523804 C10.99469252 182.69824517 10.99469252 182.69824517 10.9969368 184.66010094 C10.43808144 189.67848171 8.4254312 192.16145303 5 195.75 C1.21320277 198.70257705 -2.635521 199.40899057 -7.375 199 C-12.71234929 197.39032323 -16.34161327 194.7320833 -19.375 190 C-20.43414546 186.82256362 -20.49820043 184.58608213 -20.49525452 181.24836731 C-20.49662918 180.04943344 -20.49800385 178.85049957 -20.49942017 177.61523438 C-20.49402725 175.63970581 -20.49402725 175.63970581 -20.48852539 173.62426758 C-20.48824335 172.2248281 -20.48840159 170.82538848 -20.4889679 169.4259491 C-20.48925521 165.62458216 -20.48336915 161.82324668 -20.47639394 158.02188706 C-20.4701494 154.05004933 -20.46955573 150.0782109 -20.46836853 146.10636902 C-20.46525847 138.58411051 -20.45704944 131.0618665 -20.44701904 123.53961438 C-20.43584783 114.97622727 -20.43034491 106.41283947 -20.42532361 97.84944689 C-20.41486657 80.23295637 -20.3972734 62.61647935 -20.375 45 C-20.92567139 45.48283447 -21.47634277 45.96566895 -22.04370117 46.46313477 C-22.76533447 47.09533936 -23.48696777 47.72754395 -24.23046875 48.37890625 C-24.94614014 49.00611572 -25.66181152 49.6333252 -26.39916992 50.27954102 C-31.48408288 54.7072417 -35.01179988 55.55499476 -41.71875 55.34765625 C-46.85748313 54.67508677 -49.39295599 52.08541707 -52.75 48.375 C-54.91261618 43.88341255 -55.35324978 39.89844192 -54.375 35 C-51.66685939 29.23940751 -48.15378256 25.51204518 -43.4375 21.3125 C-42.09624026 20.09387536 -40.75509665 18.87512289 -39.4140625 17.65625 C-38.74020508 17.04910156 -38.06634766 16.44195312 -37.37207031 15.81640625 C-35.46107402 14.07828737 -33.58129248 12.31292875 -31.7109375 10.53125 C-31.13722412 9.98815186 -30.56351074 9.44505371 -29.97241211 8.88549805 C-28.89867345 7.86798103 -27.82888678 6.84627032 -26.76391602 5.81958008 C-18.93681227 -1.51905274 -10.27029952 -3.04305171 0 0 Z \"\r\n      />\r\n      <path class=\"rewind-icon rewind-icon-2\" :fill=\"color\" transform=\"translate(335.84375,188.00390625)\"\r\n            d=\"M0 0 C11.45628394 10.6053643 18.43321768 22.39796314 19.2750721 38.23079109 C19.47992811 44.82406988 19.46202699 51.41982909 19.45703125 58.015625 C19.46092559 60.16354962 19.46526176 62.31147348 19.47001648 64.45939636 C19.4774509 68.94862368 19.47720782 73.43777232 19.47192383 77.92700195 C19.46613577 83.64591011 19.483058 89.3644937 19.5062685 95.08334827 C19.5210864 99.51635076 19.52186658 103.94927655 19.51875877 108.38229942 C19.51926803 110.48916961 19.52443048 112.59604455 19.53457069 114.7028904 C19.61828644 134.52808728 18.24431896 151.49646884 4.21875 166.80859375 C-6.27183616 176.66513349 -19.15075121 181.9394571 -33.53125 182.015625 C-48.38029808 181.46177946 -62.45559772 175.92452818 -72.84375 164.99609375 C-82.49980626 153.54647196 -85.98691521 140.82259631 -86.00488281 126.14208984 C-86.01233017 124.67739258 -86.01233017 124.67739258 -86.01992798 123.18310547 C-86.03449725 119.9619068 -86.0413437 116.74075742 -86.046875 113.51953125 C-86.05263176 111.26998901 -86.05838942 109.02044678 -86.06414795 106.77090454 C-86.07464376 102.05511243 -86.08049539 97.3393373 -86.08398438 92.62353516 C-86.08945908 86.60500495 -86.11347144 80.58670211 -86.14195633 74.56824303 C-86.16065813 69.92000695 -86.16579237 65.27182474 -86.16732025 60.62355423 C-86.17033145 58.40617254 -86.17830764 56.18879145 -86.19150543 53.97144699 C-86.29774877 34.74584666 -84.79415229 17.60577781 -70.84375 2.99609375 C-50.90084568 -14.4578857 -21.01968341 -17.70679852 0 0 Z M-50.84375 28.24609375 C-54.75923274 34.88513239 -55.14185055 42.41441332 -55.10253906 49.953125 C-55.1060437 50.79829681 -55.10954834 51.64346863 -55.11315918 52.51425171 C-55.1218868 55.27911854 -55.11615929 58.04372479 -55.109375 60.80859375 C-55.11072423 62.74715219 -55.11266691 64.68571029 -55.11517334 66.62426758 C-55.11811246 70.67565145 -55.11386606 74.72694678 -55.10449219 78.77832031 C-55.09309843 83.95291697 -55.0996644 89.12730609 -55.11163712 94.30189514 C-55.1188885 98.30148868 -55.11655276 102.3010336 -55.11138153 106.30062866 C-55.1100541 108.20787582 -55.11166075 110.1151275 -55.11634064 112.02236938 C-55.12145999 114.6947182 -55.11362028 117.36673798 -55.10253906 120.0390625 C-55.10658752 120.8154306 -55.11063599 121.59179871 -55.11480713 122.39169312 C-55.04473322 131.58401374 -53.55965557 139.36993302 -46.84375 145.99609375 C-41.94956032 149.797926 -36.77869969 150.76360547 -30.65625 150.5 C-24.95686937 149.47886097 -19.94137217 146.95903007 -16.54920387 142.16751957 C-13.01462264 136.28035009 -12.11942315 131.7248748 -12.19677734 124.92163086 C-12.18801575 123.95780991 -12.17925415 122.99398895 -12.17022705 122.0009613 C-12.14836895 118.84131751 -12.16273671 115.68309345 -12.1796875 112.5234375 C-12.17631575 110.31343825 -12.17146015 108.10344081 -12.16519165 105.89344788 C-12.15783893 101.27277893 -12.16847563 96.65259481 -12.19189453 92.03198242 C-12.22039749 86.12158898 -12.20395764 80.2123301 -12.17403221 74.30197811 C-12.15593053 69.74218761 -12.16173027 65.1826644 -12.17467117 60.62286568 C-12.17799635 58.44405545 -12.17394952 56.26522061 -12.16227341 54.08643913 C-12.14951593 51.03736306 -12.16901052 47.99010352 -12.19677734 44.94116211 C-12.18665619 44.04898987 -12.17653503 43.15681763 -12.16610718 42.23760986 C-12.28302921 35.27653165 -14.47260122 30.47930352 -19.32169151 25.4690237 C-24.29280579 21.06662137 -28.82401901 19.44621362 -35.37109375 19.62109375 C-41.41505234 20.53771306 -47.02325729 23.42553089 -50.84375 28.24609375 Z \"\r\n      />\r\n    </svg>\r\n  </div>\r\n</template>\r\n\r\n<style lang=\"scss\">\r\n\r\n</style>\r\n","import script from \"./AudioPlayerRewindButton.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./AudioPlayerRewindButton.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","export function useDisplayFilters () {\r\n  const capitalize = (value) => {\r\n    if (!value) return ''\r\n    value = value.toString()\r\n    return value.charAt(0).toUpperCase() + value.slice(1)\r\n  }\r\n\r\n  const time = (timeInSecond) => {\r\n    let partHours = 0\r\n    let partMinutes = 0\r\n    let timeToWork = 0\r\n    let partSeconds = Math.floor(timeInSecond)\r\n    if (partSeconds >= 60) {\r\n      timeToWork = partSeconds / 60\r\n      partMinutes = Math.floor(timeToWork)\r\n      partSeconds = Math.round((timeToWork - partMinutes) * 60)\r\n    }\r\n    if (partMinutes >= 60) {\r\n      timeToWork = partMinutes / 60\r\n      partHours = Math.floor(timeToWork)\r\n      partMinutes = Math.round((timeToWork - partHours) * 60)\r\n    }\r\n    if (partSeconds < 10) partSeconds = '0' + partSeconds\r\n    if (partMinutes < 10) partMinutes = '0' + partMinutes\r\n\r\n    let displayTime = partMinutes + ':' + partSeconds\r\n    if (partHours > 0) {\r\n      displayTime = partHours + ':' + displayTime\r\n    }\r\n    return displayTime\r\n  }\r\n\r\n  return { capitalize, time }\r\n}\r\n","<script setup>\r\nimport { useDisplayFilters } from '@/composables/displayFilters'\r\n\r\nconst { time } = useDisplayFilters()\r\n\r\ndefineProps({\r\n  duration: { type: Number, default: 0 },\r\n  currentTime: { type: Number, default: 0 }\r\n})\r\n\r\nconst getDisplayTime = (timeInSecond) => {\r\n  return time(timeInSecond)\r\n}\r\n\r\n</script>\r\n\r\n<template>\r\n  <div class=\"custom-player-time\">\r\n    <span class=\"custom-player-current-time\">{{ getDisplayTime(currentTime) }}</span>\r\n    /\r\n    <span class=\"custom-player-duration\">{{ getDisplayTime(duration) }}</span>\r\n  </div>\r\n</template>\r\n\r\n<style scoped lang=\"scss\">\r\n\r\n</style>\r\n","import script from \"./AudioPlayerTimeview.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./AudioPlayerTimeview.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<script setup>\r\nimport { computed } from 'vue'\r\n\r\nconst props = defineProps({\r\n  percentProgress: { type: Number, required: true }\r\n})\r\nconst emit = defineEmits(['changeProgress'])\r\n\r\n// computed\r\nconst cssVars = computed(() => {\r\n  return {\r\n    '--custom-player-percent-progress': props.percentProgress + '%'\r\n  }\r\n})\r\n\r\n// methods\r\nconst changeTime = (e) => {\r\n  emit('changeProgress', e.srcElement.value)\r\n}\r\n\r\n</script>\r\n\r\n<template>\r\n  <div class=\"custom-player-timeline\" :style=\"cssVars\">\r\n    <input type=\"range\" max=\"100\" :value=\"percentProgress\" @change=\"changeTime\" aria-label=\"Player timeline\">\r\n  </div>\r\n</template>\r\n\r\n<style scoped lang=\"scss\">\r\n\r\n</style>\r\n","import script from \"./AudioPlayerTimeline.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./AudioPlayerTimeline.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<script setup>\r\nimport { ref, computed, onMounted, watch } from 'vue'\r\nimport { useStore } from 'vuex'\r\nimport { useLibraryLoader } from '@/composables/libraryLoader'\r\nimport { useFlashMessages } from '@/composables/flashMessages'\r\nimport { useKeepAlive } from '@/composables/keepAlive'\r\nimport AudioPlayerPlayButton from '@/components/AudioPlayerPlayButton'\r\nimport AudioPlayerRewindButton from '@/components/AudioPlayerRewindButton'\r\nimport AudioPlayerTimeview from '@/components/AudioPlayerTimeview'\r\nimport AudioPlayerTimeline from '@/components/AudioPlayerTimeline'\r\n\r\nconst store = useStore()\r\nconst { getChapterFromBook } = useLibraryLoader()\r\nconst { addWarningMessage, addErrorMessage } = useFlashMessages()\r\n\r\n// data\r\nconst audioPlayer = ref(null)\r\nconst chapterSrc = ref(null)\r\nconst currentTime = ref(0)\r\nconst currentProgress = ref(0)\r\nconst playing = ref(false)\r\nconst duration = ref(0)\r\nconst initTrackTime = ref(0)\r\n\r\n// computed\r\nconst currentAuthor = computed(() => store.getters.author)\r\nconst currentBook = computed(() => store.getters.book)\r\nconst currentChapterIndex = computed(() => store.getters.chapterIndex)\r\nconst currentChapter = computed(() => getChapterFromBook(currentAuthor.value, currentBook.value, currentChapterIndex.value))\r\n\r\n// methods\r\nconst startBook = async () => {\r\n  initTrackTime.value = 0\r\n  await stopAudio()\r\n  await store.dispatch('selectChapterIndex', 0)\r\n  playChapter(currentChapter.value)\r\n}\r\n\r\nconst nextChapter = async () => {\r\n  initTrackTime.value = 0\r\n  const nextIndex = currentChapterIndex.value + 1\r\n  const nextChapter = getChapterFromBook(currentAuthor.value, currentBook.value, nextIndex)\r\n  if (nextChapter) {\r\n    await stopAudio()\r\n    await store.dispatch('selectChapterIndex', nextIndex)\r\n    await playChapter(nextChapter)\r\n  } else {\r\n    addWarningMessage('This is the last chapter')\r\n  }\r\n}\r\n\r\nconst playChapter = async (chapterHandle, autoPlay = true) => {\r\n  if (!chapterHandle) {\r\n    addErrorMessage('No chapter found')\r\n    return\r\n  }\r\n  try {\r\n    const audioFile = await chapterHandle.getFile()\r\n    // clean previous value\r\n    if (chapterSrc.value) {\r\n      URL.revokeObjectURL(chapterSrc.value)\r\n    }\r\n    chapterSrc.value = URL.createObjectURL(audioFile)\r\n    // reload\r\n    await audioPlayer.value.load()\r\n    if (autoPlay) {\r\n      await useKeepAlive().start()\r\n      await audioPlayer.value.play()\r\n      playing.value = true\r\n    }\r\n  } catch (e) {\r\n    addErrorMessage('Cannot start audio file')\r\n    console.error(e)\r\n  }\r\n}\r\n\r\nconst stopAudio = async () => {\r\n  await audioPlayer.value.pause()\r\n  currentTime.value = 0\r\n  currentProgress.value = 0\r\n  await useKeepAlive().stop()\r\n  playing.value = false\r\n}\r\n\r\nconst audioPlayerTimeUpdate = (e) => {\r\n  // check that audio player is still there, we may have this event called on nav while audio player became null\r\n  if (audioPlayer.value) {\r\n    currentTime.value = Math.floor(audioPlayer.value.currentTime)\r\n    currentProgress.value = Math.round((audioPlayer.value.currentTime / audioPlayer.value.duration) * 100)\r\n  }\r\n}\r\n\r\nconst audioPlayerPause = async (e) => {\r\n  await useKeepAlive().stop()\r\n  playing.value = false\r\n}\r\n\r\nconst audioPlayerPlay = async (e) => {\r\n  await useKeepAlive().start()\r\n  playing.value = true\r\n}\r\n\r\nconst audioPlayerEnded = async (e) => {\r\n  await useKeepAlive().stop()\r\n  playing.value = false\r\n}\r\n\r\nconst audioPlayerError = async (e) => {\r\n  await useKeepAlive().stop()\r\n  playing.value = false\r\n  addErrorMessage('An error occurred on audio player')\r\n  console.error(e)\r\n}\r\n\r\nconst audioPlayerLoaded = (e) => {\r\n  if (audioPlayer.value) {\r\n    duration.value = audioPlayer.value.duration\r\n    audioPlayer.value.currentTime = initTrackTime.value\r\n  }\r\n}\r\n\r\nconst trackTimeBack = (backTime) => {\r\n  if (audioPlayer.value) {\r\n    audioPlayer.value.currentTime -= backTime\r\n    // if below 0, it is set to 0\r\n  }\r\n}\r\n\r\nconst changeProgress = (percentProgress) => {\r\n  if (audioPlayer.value) {\r\n    audioPlayer.value.currentTime = (parseInt(percentProgress) / 100) * audioPlayer.value.duration\r\n  }\r\n}\r\n\r\nconst togglePlay = async () => {\r\n  if (audioPlayer.value) {\r\n    if (audioPlayer.value.paused) {\r\n      await useKeepAlive().start()\r\n      audioPlayer.value.play()\r\n    } else {\r\n      await useKeepAlive().stop()\r\n      audioPlayer.value.pause()\r\n    }\r\n    playing.value = !playing.value\r\n  }\r\n}\r\n\r\nwatch(currentTime, (newValue, oldValue) => {\r\n  if (newValue !== oldValue) {\r\n    store.dispatch('updateTrackTime', newValue)\r\n  }\r\n})\r\n\r\nonMounted(async () => {\r\n  if (audioPlayer.value) {\r\n    audioPlayer.value.addEventListener('timeupdate', audioPlayerTimeUpdate)\r\n    audioPlayer.value.addEventListener('loadedmetadata', audioPlayerLoaded)\r\n    audioPlayer.value.addEventListener('pause', audioPlayerPause)\r\n    audioPlayer.value.addEventListener('play', audioPlayerPlay)\r\n    audioPlayer.value.addEventListener('ended', audioPlayerEnded)\r\n    audioPlayer.value.addEventListener('error', audioPlayerError)\r\n    if (currentChapter.value) {\r\n      await playChapter(currentChapter.value, false)\r\n      const storedTrackTime = store.getters.trackTime\r\n      if (storedTrackTime) {\r\n        initTrackTime.value = storedTrackTime\r\n      }\r\n    }\r\n  } else {\r\n    addErrorMessage('Cannot initialize audio player')\r\n  }\r\n})\r\n\r\n</script>\r\n\r\n<template>\r\n  <div>\r\n    <div class=\"audio-player\">\r\n      <audio controls ref=\"audioPlayer\">\r\n        <source :src=\"chapterSrc\">\r\n      </audio>\r\n    </div>\r\n    <div class=\"chapter-control-container\">\r\n      <div>\r\n        <button class=\"btn-warning\" @click=\"startBook\">Start book over</button>\r\n      </div>\r\n      <div class=\"custom-player-container\">\r\n        <audio-player-play-button :playing=\"playing\" color=\"var(--primary)\" @click-play=\"togglePlay\"></audio-player-play-button>\r\n        <audio-player-timeline :percent-progress=\"currentProgress\" @change-progress=\"changeProgress\"></audio-player-timeline>\r\n        <audio-player-timeview :duration=\"duration\" :current-time=\"currentTime\"></audio-player-timeview>\r\n        <audio-player-rewind-button color=\"var(--primary)\" @click-rewind=\"trackTimeBack(10)\"></audio-player-rewind-button>\r\n      </div>\r\n      <div>\r\n        <button class=\"btn-secondary\" @click=\"nextChapter\">Next chapter</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style scoped lang=\"scss\">\r\n  audio {\r\n    display: none;\r\n  }\r\n</style>\r\n","import script from \"./AudioPlayer.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./AudioPlayer.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./AudioPlayer.vue?vue&type=style&index=0&id=b6f586dc&scoped=true&lang=scss\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-b6f586dc\"]])\n\nexport default __exports__","<script setup>\r\nimport { computed } from 'vue'\r\nimport { useStore } from 'vuex'\r\nimport { useLibraryLoader } from '@/composables/libraryLoader'\r\n\r\nconst store = useStore()\r\nconst { getChaptersFromBook } = useLibraryLoader()\r\n\r\n// computed\r\nconst currentAuthor = computed(() => store.getters.author)\r\nconst currentBook = computed(() => store.getters.book)\r\nconst chapters = computed(() => getChaptersFromBook(currentAuthor.value, currentBook.value))\r\nconst chapterCount = computed(() => chapters.value.length)\r\n\r\n</script>\r\n\r\n<template>\r\n  <div>\r\n    <p>\r\n      {{ currentAuthor }}: {{ currentBook }} ({{ chapterCount }} chapters)\r\n    </p>\r\n  </div>\r\n</template>\r\n\r\n<style scoped lang=\"scss\">\r\n\r\n</style>\r\n","import script from \"./BookInfo.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./BookInfo.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","import script from \"./ChapterPlayView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ChapterPlayView.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<script setup>\nimport { ref, onMounted, watch, computed } from 'vue'\nimport { useStore } from 'vuex'\nimport { useLibraryLoader } from '@/composables/libraryLoader'\n\nconst store = useStore()\nconst { getAuthorsList } = useLibraryLoader()\n\n// data\nconst selectedAuthor = ref('')\n\n// computed\nconst authors = computed(() => getAuthorsList())\n\n// watch\nwatch(selectedAuthor, async (newValue) => {\n  if (!newValue || newValue === store.getters.author) return\n  store.dispatch('selectAuthor', newValue)\n})\n\nonMounted(async () => {\n  selectedAuthor.value = store.getters.author\n})\n</script>\n\n<template>\n  <div>\n    <label for=\"authorSelect\">Author:</label>\n    <select id=\"authorSelect\" v-model=\"selectedAuthor\" :class=\"selectedAuthor ? '' : 'empty-select'\">\n      <option value=\"\" class=\"placeholder\" disabled selected hidden>Select author...</option>\n      <option v-for=\"author in authors\" :key=\"author\" :value=\"author\">\n        {{ author }}\n      </option>\n    </select>\n  </div>\n</template>\n\n<style scoped lang=\"scss\">\n\n</style>\n","import script from \"./AuthorSelect.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./AuthorSelect.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<script setup>\nimport { ref, computed, watch, onMounted } from 'vue'\nimport { useStore } from 'vuex'\nimport { useLibraryLoader } from '@/composables/libraryLoader'\nimport { useRouter } from 'vue-router'\n\nconst store = useStore()\nconst { getBooksFromAuthor } = useLibraryLoader()\nconst router = useRouter()\n\n// data\nconst selectedBook = ref('')\n\n// computed\nconst currentAuthor = computed(() => store.getters.author)\nconst books = computed(() => getBooksFromAuthor(currentAuthor.value))\n\n// watch\nwatch(currentAuthor, async (newValue) => {\n  if (!newValue) return\n  selectedBook.value = store.getters.book\n})\nwatch(selectedBook, async (newValue) => {\n  if (!newValue || newValue === store.getters.book) return\n  await store.dispatch('selectBook', newValue)\n  router.push({ name: 'chapter' })\n})\n\nonMounted(async () => {\n  selectedBook.value = store.getters.book\n})\n</script>\n\n<template>\n  <div>\n    <label for=\"bookSelect\">Book:</label>\n    <select id=\"bookSelect\" v-model=\"selectedBook\" :class=\"selectedBook ? '' : 'empty-select'\">\n      <option value=\"\" class=\"placeholder\" disabled selected hidden>Select book...</option>\n      <option v-for=\"book in books\" :key=\"book\" :value=\"book\">\n        {{ book }}\n      </option>\n    </select>\n  </div>\n</template>\n\n<style scoped lang=\"scss\">\n\n</style>\n","import script from \"./BookSelect.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./BookSelect.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","import script from \"./BookSelectionView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./BookSelectionView.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { createRouter, createWebHashHistory } from 'vue-router'\r\nimport ChapterPlay from '../views/ChapterPlayView.vue'\r\nimport BookSelection from '../views/BookSelectionView'\r\n\r\nconst routes = [\r\n  {\r\n    path: '/',\r\n    name: 'chapter',\r\n    component: ChapterPlay\r\n  },\r\n  {\r\n    path: '/book',\r\n    name: 'book',\r\n    component: BookSelection\r\n  },\r\n  {\r\n    path: '/settings',\r\n    name: 'settings',\r\n    // route level code-splitting\r\n    // this generates a separate chunk (about.[hash].js) for this route\r\n    // which is lazy-loaded when the route is visited.\r\n    component: () => import(/* webpackChunkName: \"about\" */ '../views/SettingsView')\r\n  },\r\n  {\r\n    path: '/setup',\r\n    name: 'setup',\r\n    component: () => import(/* webpackChunkName: \"about\" */ '../views/SetupView.vue')\r\n  }\r\n]\r\n\r\nconst router = createRouter({\r\n  history: createWebHashHistory(),\r\n  routes\r\n})\r\n\r\nexport default router\r\n","import { createStore } from 'vuex'\r\nimport VuexPersistence from 'vuex-persist'\r\nimport { useStorageInstance } from '@/composables/storageInstance'\r\n\r\n// create vuex-persist instance\r\nconst vuexPersist = new VuexPersistence({\r\n  // option 1: use local storage\r\n  // storage: window.localStorage,\r\n  // key: PERSISTENCE_KEY\r\n  // option 2: use indexedDB. In this case, you have to set async storage\r\n  // Also in router, wait for restoration before each\r\n  // storage: localForage,\r\n  // option 3: use a specific instance for indexedDB\r\n  storage: useStorageInstance().getStorageInstance(),\r\n  asyncStorage: true,\r\n  key: 'store'\r\n})\r\n\r\nexport default createStore({\r\n  state: {\r\n    library: '',\r\n    author: '',\r\n    book: '',\r\n    chapterIndex: 0,\r\n    trackTime: 0\r\n  },\r\n  getters: {\r\n    author: (state) => state.author,\r\n    book: (state) => state.book,\r\n    chapterIndex: (state) => state.chapterIndex,\r\n    trackTime: (state) => state.trackTime\r\n  },\r\n  mutations: {\r\n    setLibrary (state, library) {\r\n      state.library = library\r\n    },\r\n    setAuthor (state, author) {\r\n      state.author = author\r\n    },\r\n    setBook (state, book) {\r\n      state.book = book\r\n    },\r\n    setChapterIndex (state, index) {\r\n      state.chapterIndex = index\r\n    },\r\n    setTrackTime (state, time) {\r\n      state.trackTime = time\r\n    },\r\n    resetSelection (state) {\r\n      state.author = ''\r\n      state.book = ''\r\n      state.chapterIndex = 0\r\n      state.trackTime = 0\r\n    }\r\n  },\r\n  actions: {\r\n    selectLibrary ({ state, commit }, library) {\r\n      if (!library) {\r\n        commit('setLibrary', '')\r\n        commit('resetSelection')\r\n      } else if (library !== state.library) {\r\n        commit('setLibrary', library)\r\n        commit('resetSelection')\r\n      }\r\n    },\r\n    selectAuthor ({ commit }, author) {\r\n      commit('setBook', '')\r\n      commit('setChapterIndex', 0)\r\n      commit('setAuthor', author)\r\n      commit('setTrackTime', 0)\r\n    },\r\n    selectBook ({ commit }, book) {\r\n      commit('setChapterIndex', 0)\r\n      commit('setBook', book)\r\n      commit('setTrackTime', 0)\r\n    },\r\n    selectChapterIndex ({ commit }, index) {\r\n      commit('setChapterIndex', index)\r\n      commit('setTrackTime', 0)\r\n    },\r\n    updateTrackTime ({ commit }, time) {\r\n      commit('setTrackTime', time)\r\n    }\r\n  },\r\n  modules: {\r\n  },\r\n  strict: process.env.NODE_ENV !== 'production',\r\n  plugins: [vuexPersist.plugin]\r\n})\r\n","import { useFlashMessages } from '@/composables/flashMessages'\r\nimport { useLibraryLoader } from '@/composables/libraryLoader'\r\nimport { useHandlePermission } from '@/composables/handlePermission'\r\n\r\nexport default function addNavigationGuards (router, store) {\r\n  const { addWarningMessage, clearAllMessages } = useFlashMessages()\r\n  const { getLibraryHandle } = useLibraryLoader(store)\r\n\r\n  router.beforeEach(async (to, from) => {\r\n    // first of all, as we are using async storage for store, wait for reload\r\n    await store.restored\r\n\r\n    // first check if we have a library handle\r\n    // beware that we are not currently heading to it\r\n    const libraryHandle = await getLibraryHandle()\r\n    if (!libraryHandle && to.name !== 'setup') {\r\n      // persist message as we will redirect\r\n      addWarningMessage('Library is not found, please define main directory', '', true)\r\n      return { name: 'setup' }\r\n    }\r\n\r\n    // check that we still have permission\r\n    if (libraryHandle && to.name !== 'setup') {\r\n      const hasPermission = await useHandlePermission().hasPermission(libraryHandle)\r\n      if (!hasPermission) {\r\n        addWarningMessage('Access to library is no longer granted', '', true)\r\n        return { name: 'setup', query: { restore: true } }\r\n      }\r\n    }\r\n\r\n    // check if we have a current author/book when we try to go on chapter\r\n    if ((!store.getters.author || !store.getters.book) && to.name === 'chapter') {\r\n      addWarningMessage('Your current book is not found, please choose one', '', true)\r\n      return { name: 'book' }\r\n    }\r\n  })\r\n\r\n  router.afterEach(() => {\r\n    // after each route decided, clear previous messages\r\n    clearAllMessages()\r\n  })\r\n}\r\n","import { createApp } from 'vue'\r\nimport App from './App.vue'\r\nimport './registerServiceWorker'\r\nimport router from './router'\r\nimport store from './store'\r\nimport addNavigationGuards from '@/router/guards'\r\nimport '@/assets/scss/theme_main.scss'\r\n\r\naddNavigationGuards(router, store)\r\n\r\nconst app = createApp(App).use(store).use(router)\r\n\r\nif (process.env.NODE_ENV !== 'production') {\r\n  app.config.devtools = true\r\n}\r\n\r\napp.mount('#app')\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = function(chunkId) {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce(function(promises, key) {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = function(chunkId) {\n\t// return url for filenames based on template\n\treturn \"js/\" + \"about\" + \".\" + \"619d21b2\" + \".js\";\n};","// This function allow to reference async chunks\n__webpack_require__.miniCssF = function(chunkId) {\n\t// return url for filenames based on template\n\treturn undefined;\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","var inProgress = {};\nvar dataWebpackPrefix = \"fable-flow:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = function(url, done, key, chunkId) {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = function(prev, event) {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach(function(fn) { return fn(event); });\n\t\tif(prev) return prev(event);\n\t}\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n__webpack_require__.f.j = function(chunkId, promises) {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise(function(resolve, reject) { installedChunkData = installedChunks[chunkId] = [resolve, reject]; });\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = function(event) {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkfable_flow\"] = self[\"webpackChunkfable_flow\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], function() { return __webpack_require__(3766); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["flashMessages","ref","useFlashMessages","addMessage","messageObject","value","push","addSuccessMessage","content","messageTitle","toPersistOnce","type","message","title","persistOnce","addInfoMessage","addWarningMessage","addErrorMessage","clearMessage","index","splice","clearAllMessages","persisted","useHandlePermission","permissionStatus","isChecking","hasPermission","async","handle","checkPermission","permission","queryPermission","mode","DIRECTORY_PERMISSION_MODE","requestPermission","navigator","storage","persist","e","console","error","libraryHandle","tracks","useLibraryLoader","store","isLoading","useStore","getLibraryHandle","useStorageInstance","loadLibrary","listAuthors","list","entry","entries","kind","listBooksFromAuthor","authorHandle","name","listChaptersFromBook","bookHandle","extension","slice","lastIndexOf","FILE_EXTENSIONS_SUPPORTED","includes","log","mainHandle","authors","authorBooks","books","dispatch","setLibraryHandle","getAuthorsList","Object","keys","getBooksFromAuthor","author","getChaptersFromBook","book","getChapterFromBook","chapters","storageInstance","getStorageInstance","localforage","PERSISTENCE_KEY","storeName","instance","getItem","setItem","class","_createElementBlock","_createElementVNode","_hoisted_1","_createVNode","_component_router_link","to","default","_withCtx","_cache","_createTextVNode","_","_hoisted_2","_hoisted_3","script","__exports__","render","messages","computed","computeAlertClass","register","ready","registered","cached","updatefound","updated","offline","currentAuthor","getters","currentBook","currentChapterIndex","chapterIndex","currentChapter","audioContext","useKeepAlive","start","AudioContext","state","resume","workletCode","blob","Blob","workletURL","URL","createObjectURL","audioWorklet","addModule","node","AudioWorkletNode","connect","destination","stop","close","props","__props","emit","__emit","divClass","playing","clickOnPlay","clickOnRewind","useDisplayFilters","capitalize","toString","charAt","toUpperCase","time","timeInSecond","partHours","partMinutes","timeToWork","partSeconds","Math","floor","round","displayTime","getDisplayTime","cssVars","percentProgress","changeTime","srcElement","audioPlayer","chapterSrc","currentTime","currentProgress","duration","initTrackTime","startBook","stopAudio","playChapter","nextChapter","nextIndex","chapterHandle","autoPlay","audioFile","getFile","revokeObjectURL","load","play","pause","audioPlayerTimeUpdate","audioPlayerPause","audioPlayerPlay","audioPlayerEnded","audioPlayerError","audioPlayerLoaded","trackTimeBack","backTime","changeProgress","parseInt","togglePlay","paused","watch","newValue","oldValue","onMounted","addEventListener","storedTrackTime","trackTime","chapterCount","length","selectedAuthor","router","useRouter","selectedBook","routes","path","component","ChapterPlay","BookSelection","createRouter","history","createWebHashHistory","vuexPersist","VuexPersistence","asyncStorage","key","createStore","library","mutations","setLibrary","setAuthor","setBook","setChapterIndex","setTrackTime","resetSelection","actions","selectLibrary","commit","selectAuthor","selectBook","selectChapterIndex","updateTrackTime","modules","strict","process","plugins","plugin","addNavigationGuards","beforeEach","from","restored","query","restore","afterEach","app","createApp","App","use","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","call","m","deferred","O","result","chunkIds","fn","priority","notFulfilled","Infinity","i","fulfilled","j","every","r","n","getter","__esModule","d","a","definition","o","defineProperty","enumerable","get","f","chunkId","Promise","all","reduce","promises","u","miniCssF","g","globalThis","this","Function","window","obj","prop","prototype","hasOwnProperty","inProgress","dataWebpackPrefix","l","url","done","needAttach","scripts","document","getElementsByTagName","s","getAttribute","createElement","charset","timeout","nc","setAttribute","src","onScriptComplete","prev","event","onerror","onload","clearTimeout","doneFns","parentNode","removeChild","forEach","setTimeout","bind","target","head","appendChild","Symbol","toStringTag","p","installedChunks","installedChunkData","promise","resolve","reject","Error","loadingEnded","errorType","realSrc","request","webpackJsonpCallback","parentChunkLoadingFunction","data","moreModules","runtime","some","id","chunkLoadingGlobal","self","__webpack_exports__"],"sourceRoot":""}