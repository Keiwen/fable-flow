{"version":3,"file":"js/about.619d21b2.js","mappings":"+OACEA,EAAAA,EAAAA,IAGM,yBAFJC,EAAAA,EAAAA,IAAiB,UAAb,YAAQ,KACZC,EAAAA,EAAAA,IAA8EC,EAAA,CAAjEC,GAAG,SAASC,MAAM,qB,CAHnCC,SAAAC,EAAAA,EAAAA,KAGuD,IAAaC,EAAA,KAAAA,EAAA,KAHpEC,EAAAA,EAAAA,IAGuD,qBAHvDC,EAAA,K,eCCA,MAAMC,EAAS,CAAC,EAGVC,GAA2B,OAAgBD,EAAQ,CAAC,CAAC,SAASE,KAEpE,O,iPCCA,MAAM,cAAEC,IAAkBC,EAAAA,EAAAA,MACpB,cAAEC,EAAa,YAAEC,IAAgBC,EAAAA,EAAAA,MACjC,gBAAEC,IAAoBC,EAAAA,EAAAA,KACtBC,GAASC,EAAAA,EAAAA,MAGTC,GAAcC,EAAAA,EAAAA,KAAS,IAAMR,EAAcS,MAAQT,EAAcS,MAAMC,KAAO,KAG9EC,EAAaC,UACjB,IACE,GAAI,wBAAyBC,OAAQ,CACnC,MAAMC,QAAuBD,OAAOE,sBAC9BC,QAA8BlB,EAAcgB,GAE9CE,UACIf,EAAYa,GAClBT,EAAOY,KAAK,CAAEP,KAAM,YAExB,MACEP,EAAgB,iGAEpB,CAAE,MAAOe,GACPf,EAAgB,0CAChBgB,QAAQC,MAAMF,EAChB,G,glBC7BF,MAAMtB,EAAc,EAEpB,Q,wCCCA,MAAM,cAAEE,IAAkBC,EAAAA,EAAAA,MACpB,cAAEC,EAAa,YAAEC,IAAgBC,EAAAA,EAAAA,MACjC,gBAAEC,IAAoBC,EAAAA,EAAAA,KACtBC,GAASC,EAAAA,EAAAA,MAGTe,EAAiBT,UACrB,IACE,MAAMI,QAA8BlB,EAAcE,EAAcS,OAC5DO,UACIf,EAAYD,EAAcS,OAChCJ,EAAOY,KAAK,CAAEP,KAAM,YAExB,CAAE,MAAOQ,GACPf,EAAgB,0CAChBgB,QAAQC,MAAMF,EAChB,G,wRCnBF,MAAM,EAAc,EAEpB,Q,+BCAA,MAAMI,GAAQC,EAAAA,EAAAA,MAERC,EAAgBF,EAAMG,MAAMC,UAAW,E,oMCJ7C,MAAM,EAAc,EAEpB,O","sources":["webpack://fable-flow/./src/views/SettingsView.vue","webpack://fable-flow/./src/views/SettingsView.vue?80d1","webpack://fable-flow/./src/components/LibraryPathSetup.vue","webpack://fable-flow/./src/components/LibraryPathSetup.vue?531e","webpack://fable-flow/./src/components/LibraryPathRestore.vue","webpack://fable-flow/./src/components/LibraryPathRestore.vue?4101","webpack://fable-flow/./src/views/SetupView.vue","webpack://fable-flow/./src/views/SetupView.vue?3478"],"sourcesContent":["<template>\n  <div>\n    <h1>Settings</h1>\n    <router-link to=\"/setup\" class=\"btn btn-secondary\">Library setup</router-link>\n  </div>\n</template>\n","import { render } from \"./SettingsView.vue?vue&type=template&id=242fdefb\"\nconst script = {}\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<script setup>\r\nimport { computed } from 'vue'\r\nimport { useRouter } from 'vue-router'\r\nimport { useHandlePermission } from '@/composables/handlePermission'\r\nimport { useLibraryLoader } from '@/composables/libraryLoader'\r\nimport { useFlashMessages } from '@/composables/flashMessages'\r\n\r\nconst { hasPermission } = useHandlePermission()\r\nconst { libraryHandle, loadLibrary } = useLibraryLoader()\r\nconst { addErrorMessage } = useFlashMessages()\r\nconst router = useRouter()\r\n\r\n// computed\r\nconst libraryName = computed(() => libraryHandle.value ? libraryHandle.value.name : '')\r\n\r\n// methods\r\nconst selectPath = async () => {\r\n  try {\r\n    if ('showDirectoryPicker' in window) {\r\n      const selectedHandle = await window.showDirectoryPicker() // display directory picker for user\r\n      const hasPermissionOnHandle = await hasPermission(selectedHandle)\r\n      // if granted, update store\r\n      if (hasPermissionOnHandle) {\r\n        await loadLibrary(selectedHandle)\r\n        router.push({ name: 'chapter' })\r\n      }\r\n    } else {\r\n      addErrorMessage('Unfortunately, your browser does not support this functionality. Please try with Chrome > 132.')\r\n    }\r\n  } catch (e) {\r\n    addErrorMessage('An error occurred on library selection')\r\n    console.error(e)\r\n  }\r\n}\r\n</script>\r\n\r\n<template>\r\n  <div>\r\n    <p v-if=\"libraryName\">\r\n      Current directory is set to {{ libraryName }}\r\n    </p>\r\n    <p v-else>\r\n      No directory set\r\n    </p>\r\n    <p class=\"help\" v-if=\"!libraryName\">\r\n      Choose a directory from your device where your audio books are stored.\r\n      Fable Flow will request read access to it.\r\n      No files nor folder will be modified by Fable Flow.\r\n      You'll be able to revoke its access at any time from your device settings.\r\n    </p>\r\n    <p>\r\n      <button class=\"btn-primary\" @click=\"selectPath\">Select a directory as library</button>\r\n    </p>\r\n  </div>\r\n</template>\r\n\r\n<style scoped lang=\"scss\">\r\n\r\n</style>\r\n","import script from \"./LibraryPathSetup.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./LibraryPathSetup.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<script setup>\r\nimport { useRouter } from 'vue-router'\r\nimport { useHandlePermission } from '@/composables/handlePermission'\r\nimport { useLibraryLoader } from '@/composables/libraryLoader'\r\nimport { useFlashMessages } from '@/composables/flashMessages'\r\n\r\nconst { hasPermission } = useHandlePermission()\r\nconst { libraryHandle, loadLibrary } = useLibraryLoader()\r\nconst { addErrorMessage } = useFlashMessages()\r\nconst router = useRouter()\r\n\r\n// methods\r\nconst restoreLibrary = async () => {\r\n  try {\r\n    const hasPermissionOnHandle = await hasPermission(libraryHandle.value)\r\n    if (hasPermissionOnHandle) {\r\n      await loadLibrary(libraryHandle.value)\r\n      router.push({ name: 'chapter' })\r\n    }\r\n  } catch (e) {\r\n    addErrorMessage('An error occurred on library selection')\r\n    console.error(e)\r\n  }\r\n}\r\n</script>\r\n\r\n<template>\r\n  <div>\r\n    <p class=\"help\">\r\n      Permission granted to your library has expired.\r\n      Click on below button to restore it!\r\n    </p>\r\n    <p>\r\n      <button class=\"btn-secondary\" @click=\"restoreLibrary\">Restore permission</button>\r\n    </p>\r\n  </div>\r\n</template>\r\n\r\n<style scoped lang=\"scss\">\r\n\r\n</style>\r\n","import script from \"./LibraryPathRestore.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./LibraryPathRestore.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<script setup>\nimport LibraryPathSetup from '@/components/LibraryPathSetup'\nimport LibraryPathRestore from '@/components/LibraryPathRestore'\nimport { useRoute } from 'vue-router'\n\nconst route = useRoute()\n\nconst restoreOption = route.query.restore ?? false\n</script>\n\n<template>\n  <div>\n    <h1>Library setup</h1>\n    <library-path-setup></library-path-setup>\n    <library-path-restore v-if=\"restoreOption\"></library-path-restore>\n  </div>\n</template>\n","import script from \"./SetupView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./SetupView.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["_createElementBlock","_createElementVNode","_createVNode","_component_router_link","to","class","default","_withCtx","_cache","_createTextVNode","_","script","__exports__","render","hasPermission","useHandlePermission","libraryHandle","loadLibrary","useLibraryLoader","addErrorMessage","useFlashMessages","router","useRouter","libraryName","computed","value","name","selectPath","async","window","selectedHandle","showDirectoryPicker","hasPermissionOnHandle","push","e","console","error","restoreLibrary","route","useRoute","restoreOption","query","restore"],"sourceRoot":""}