"use strict";(self["webpackChunkfable_flow"]=self["webpackChunkfable_flow"]||[]).push([[594],{169:function(e,r,t){t.r(r),t.d(r,{default:function(){return i}});var o=t(6768);function a(e,r){const t=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("div",null,[r[1]||(r[1]=(0,o.Lk)("h1",null,"Settings",-1)),(0,o.bF)(t,{to:"/setup",class:"btn btn-secondary"},{default:(0,o.k6)((()=>r[0]||(r[0]=[(0,o.eW)("Library setup")]))),_:1})])}var n=t(1241);const s={},l=(0,n.A)(s,[["render",a]]);var i=l},7204:function(e,r,t){t.r(r),t.d(r,{default:function(){return C}});var o=t(6768),a=t(144),n=(t(4114),t(4232)),s=t(1387),l=t(8749),i=t(322),u=t(3672);const c={key:0},d={key:1},y={key:2,class:"help"};var b={__name:"LibraryPathSetup",setup(e){const{hasPermission:r}=(0,l.B)(),{libraryHandle:t,loadLibrary:a}=(0,i.o)(),{addErrorMessage:b}=(0,u.g)(),p=(0,s.rd)(),h=(0,o.EW)((()=>t.value?t.value.name:"")),k=async()=>{try{if("showDirectoryPicker"in window){const e=await window.showDirectoryPicker(),t=await r(e);t&&(await a(e),p.push({name:"chapter"}))}else b("Unfortunately, your browser does not support this functionality. Please try with Chrome > 132.")}catch(e){b("An error occurred on library selection"),console.error(e)}};return(e,r)=>((0,o.uX)(),(0,o.CE)("div",null,[h.value?((0,o.uX)(),(0,o.CE)("p",c," Current directory is set to "+(0,n.v_)(h.value),1)):((0,o.uX)(),(0,o.CE)("p",d," No directory set ")),h.value?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("p",y," Choose a directory from your device where your audio books are stored. Fable Flow will request read access to it. No files nor folder will be modified by Fable Flow. You'll be able to revoke its access at any time from your device settings. ")),(0,o.Lk)("p",null,[(0,o.Lk)("button",{class:"btn-primary",onClick:k},"Select a directory as library")])]))}};const p=b;var h=p,k={__name:"LibraryPathRestore",setup(e){const{hasPermission:r}=(0,l.B)(),{libraryHandle:t,loadLibrary:a}=(0,i.o)(),{addErrorMessage:n}=(0,u.g)(),c=(0,s.rd)(),d=async()=>{try{const e=await r(t.value);e&&(await a(t.value),c.push({name:"chapter"}))}catch(e){n("An error occurred on library selection"),console.error(e)}};return(e,r)=>((0,o.uX)(),(0,o.CE)("div",null,[r[0]||(r[0]=(0,o.Lk)("p",{class:"help"}," Permission granted to your library has expired. Click on below button to restore it! ",-1)),(0,o.Lk)("p",null,[(0,o.Lk)("button",{class:"btn-secondary",onClick:d},"Restore permission")])]))}};const v=k;var w=v,f={__name:"SetupView",setup(e){const r=(0,s.lq)(),t=r.query.restore??!1;return(e,r)=>((0,o.uX)(),(0,o.CE)("div",null,[r[0]||(r[0]=(0,o.Lk)("h1",null,"Library setup",-1)),(0,o.bF)((0,a.R1)(h)),(0,a.R1)(t)?((0,o.uX)(),(0,o.Wv)((0,a.R1)(w),{key:0})):(0,o.Q3)("",!0)]))}};const m=f;var C=m}}]);
//# sourceMappingURL=about.619d21b2.js.map